/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{443:function(e,t,r){"use strict";r.d(t,"a",(function(){return ae})),r.d(t,"b",(function(){return ni})),r.d(t,"c",(function(){return $o})),r.d(t,"d",(function(){return En})),r.d(t,"e",(function(){return Tn})),r.d(t,"f",(function(){return Vo})),r.d(t,"g",(function(){return ii})),r.d(t,"h",(function(){return oi})),r.d(t,"i",(function(){return ne})),r.d(t,"j",(function(){return Lo})),r.d(t,"k",(function(){return dn})),r.d(t,"l",(function(){return Uo}));let n=Float32Array;function o(e,t,r){const o=new n(3);return e&&(o[0]=e),t&&(o[1]=t),r&&(o[2]=r),o}function l(a,b,e){return(e=e||new n(3))[0]=a[0]+b[0],e[1]=a[1]+b[1],e[2]=a[2]+b[2],e}function c(a,b,e){return(e=e||new n(3))[0]=a[0]*b[0],e[1]=a[1]*b[1],e[2]=a[2]*b[2],e}let f=Float32Array;function m(e){return(e=e||new f(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function d(e,t){t=t||new f(16);const r=e[0],n=e[1],o=e[2],l=e[3],c=e[4],m=e[5],d=e[6],y=e[7],h=e[8],x=e[9],v=e[10],w=e[11],F=e[12],A=e[13],E=e[14],P=e[15],T=v*P,S=E*w,R=d*P,z=E*y,I=d*w,C=v*y,M=o*P,k=E*l,U=o*w,B=v*l,O=o*y,L=d*l,D=h*A,_=F*x,$=c*A,j=F*m,W=c*x,V=h*m,N=r*A,G=F*n,H=r*x,Y=h*n,X=r*m,K=c*n,J=T*m+z*x+I*A-(S*m+R*x+C*A),Z=S*n+M*x+B*A-(T*n+k*x+U*A),Q=R*n+k*m+O*A-(z*n+M*m+L*A),ee=C*n+U*m+L*x-(I*n+B*m+O*x),te=1/(r*J+c*Z+h*Q+F*ee);return t[0]=te*J,t[1]=te*Z,t[2]=te*Q,t[3]=te*ee,t[4]=te*(S*c+R*h+C*F-(T*c+z*h+I*F)),t[5]=te*(T*r+k*h+U*F-(S*r+M*h+B*F)),t[6]=te*(z*r+M*c+L*F-(R*r+k*c+O*F)),t[7]=te*(I*r+B*c+O*h-(C*r+U*c+L*h)),t[8]=te*(D*y+j*w+W*P-(_*y+$*w+V*P)),t[9]=te*(_*l+N*w+Y*P-(D*l+G*w+H*P)),t[10]=te*($*l+G*y+X*P-(j*l+N*y+K*P)),t[11]=te*(V*l+H*y+K*w-(W*l+Y*y+X*w)),t[12]=te*($*v+V*E+_*d-(W*E+D*d+j*v)),t[13]=te*(H*E+D*o+G*v-(N*v+Y*E+_*o)),t[14]=te*(N*d+K*E+j*o-(X*E+$*o+G*d)),t[15]=te*(X*v+W*o+Y*d-(H*d+K*v+V*o)),t}function y(e,t,r){r=r||o();const n=t[0],l=t[1],c=t[2],f=n*e[3]+l*e[7]+c*e[11]+e[15];return r[0]=(n*e[0]+l*e[4]+c*e[8]+e[12])/f,r[1]=(n*e[1]+l*e[5]+c*e[9]+e[13])/f,r[2]=(n*e[2]+l*e[6]+c*e[10]+e[14])/f,r}function h(e,t,r){r=r||o();const n=t[0],l=t[1],c=t[2];return r[0]=n*e[0]+l*e[4]+c*e[8],r[1]=n*e[1]+l*e[5]+c*e[9],r[2]=n*e[2]+l*e[6]+c*e[10],r}const x=5120,v=5121,w=5122,F=5123,A=5124,E=5125,P=5126,T={};{const e=T;e[x]=Int8Array,e[v]=Uint8Array,e[w]=Int16Array,e[F]=Uint16Array,e[A]=Int32Array,e[E]=Uint32Array,e[P]=Float32Array,e[32819]=Uint16Array,e[32820]=Uint16Array,e[33635]=Uint16Array,e[5131]=Uint16Array,e[33640]=Uint32Array,e[35899]=Uint32Array,e[35902]=Uint32Array,e[36269]=Uint32Array,e[34042]=Uint32Array}function S(e){if(e instanceof Int8Array)return x;if(e instanceof Uint8Array)return v;if(e instanceof Uint8ClampedArray)return v;if(e instanceof Int16Array)return w;if(e instanceof Uint16Array)return F;if(e instanceof Int32Array)return A;if(e instanceof Uint32Array)return E;if(e instanceof Float32Array)return P;throw new Error("unsupported typed array type")}function R(e){if(e===Int8Array)return x;if(e===Uint8Array)return v;if(e===Uint8ClampedArray)return v;if(e===Int16Array)return w;if(e===Uint16Array)return F;if(e===Int32Array)return A;if(e===Uint32Array)return E;if(e===Float32Array)return P;throw new Error("unsupported typed array type")}function z(e){const t=T[e];if(!t)throw new Error("unknown gl type");return t}const I="undefined"!=typeof SharedArrayBuffer?function(a){return a&&a.buffer&&(a.buffer instanceof ArrayBuffer||a.buffer instanceof SharedArrayBuffer)}:function(a){return a&&a.buffer&&a.buffer instanceof ArrayBuffer};function C(...e){console.error(...e)}function M(e,t){return"undefined"!=typeof WebGLRenderbuffer&&t instanceof WebGLRenderbuffer}function k(e,t){return"undefined"!=typeof WebGLTexture&&t instanceof WebGLTexture}const U=35044,B=34962,O=34963,L=34660,D=5120,_=5121,$=5122,j=5123,W=5124,V=5125,N=5126,G={attribPrefix:""};function H(e,t,r,n,o){e.bindBuffer(t,r),e.bufferData(t,n,o||U)}function Y(e,t,r,n){if(o=t,"undefined"!=typeof WebGLBuffer&&o instanceof WebGLBuffer)return t;var o;r=r||B;const l=e.createBuffer();return H(e,r,l,t,n),l}function X(e){return"indices"===e}function K(e){return e.length?e:e.data}const J=/coord|texture/i,Z=/color|colour/i;function Q(e,t){let r;if(r=J.test(e)?2:Z.test(e)?4:3,t%r>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${r} but ${t} values is not evenly divisible by ${r}. You should specify it.`);return r}function ee(e,t){return e.numComponents||e.size||Q(t,K(e).length)}function te(e,t){if(I(e))return e;if(I(e.data))return e.data;Array.isArray(e)&&(e={data:e});let r=e.type;return r||(r=X(t)?Uint16Array:Float32Array),new r(e.data)}function re(e,t){const r={};return Object.keys(t).forEach((function(n){if(!X(n)){const l=t[n],c=l.attrib||l.name||l.attribName||G.attribPrefix+n;if(l.value){if(!Array.isArray(l.value)&&!I(l.value))throw new Error("array.value is not array or typedarray");r[c]={value:l.value}}else{let t,f,m,d;if(l.buffer&&l.buffer instanceof WebGLBuffer)t=l.buffer,d=l.numComponents||l.size,f=l.type,m=l.normalize;else if("number"==typeof l||"number"==typeof l.data){const r=l.data||l,c=l.type||Float32Array,y=r*c.BYTES_PER_ELEMENT;f=R(c),m=void 0!==l.normalize?l.normalize:(o=c)===Int8Array||o===Uint8Array,d=l.numComponents||l.size||Q(n,r),t=e.createBuffer(),e.bindBuffer(B,t),e.bufferData(B,y,l.drawType||U)}else{const r=te(l,n);t=Y(e,r,void 0,l.drawType),f=S(r),m=void 0!==l.normalize?l.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(r),d=ee(l,n)}r[c]={buffer:t,numComponents:d,type:f,normalize:m,stride:l.stride||0,offset:l.offset||0,divisor:void 0===l.divisor?void 0:l.divisor,drawType:l.drawType}}}var o})),e.bindBuffer(B,null),r}function ne(e,t,r,n){r=te(r),void 0!==n?(e.bindBuffer(B,t.buffer),e.bufferSubData(B,n,r)):H(e,B,t.buffer,r,t.drawType)}const oe=["position","positions","a_position"];function ie(e,t){let r,n;for(n=0;n<oe.length&&(r=oe[n],!(r in t))&&(r=G.attribPrefix+r,!(r in t));++n);n===oe.length&&(r=Object.keys(t)[0]);const o=t[r];if(!o.buffer)return 1;e.bindBuffer(B,o.buffer);const l=e.getBufferParameter(B,L);e.bindBuffer(B,null);var c;const f=l/((c=o.type)===D||c===_?1:c===$||c===j?2:c===W||c===V||c===N?4:0),m=o.numComponents||o.size,d=f/m;if(d%1!=0)throw new Error(`numComponents ${m} not correct for length ${length}`);return d}function ae(e,t,r){const n=re(e,t),o=Object.assign({},r||{});o.attribs=Object.assign({},r?r.attribs:{},n);const l=t.indices;if(l){const t=te(l,"indices");o.indices=Y(e,t,O),o.numElements=t.length,o.elementType=S(t)}else o.numElements||(o.numElements=ie(e,o.attribs));return o}function ue(e,t,r){const n="indices"===r?O:B;return Y(e,te(t,r),n)}function se(e,t){const r={};return Object.keys(t).forEach((function(n){r[n]=ue(e,t[n],n)})),t.indices?(r.numElements=t.indices.length,r.elementType=S(te(t.indices))):r.numElements=function(e){let t,r;for(r=0;r<oe.length&&(t=oe[r],!(t in e));++r);r===oe.length&&(t=Object.keys(e)[0]);const n=e[t],o=K(n).length;if(void 0===o)return 1;const l=ee(n,t),c=o/l;if(o%l>0)throw new Error(`numComponents ${l} not correct for length ${o}`);return c}(t),r}function le(e,t){let cursor=0;return e.push=function(){for(let t=0;t<arguments.length;++t){const r=arguments[t];if(r instanceof Array||I(r))for(let t=0;t<r.length;++t)e[cursor++]=r[t];else e[cursor++]=r}},e.reset=function(e){cursor=e||0},e.numComponents=t,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function ce(e,t,r){return le(new(r||Float32Array)(e*t),e)}function fe(e,t,r){const n=e.length,o=new Float32Array(3);for(let l=0;l<n;l+=3)r(t,[e[l],e[l+1],e[l+2]],o),e[l]=o[0],e[l+1]=o[1],e[l+2]=o[2]}function me(e,t,r){r=r||o();const n=t[0],l=t[1],c=t[2];return r[0]=n*e[0]+l*e[1]+c*e[2],r[1]=n*e[4]+l*e[5]+c*e[6],r[2]=n*e[8]+l*e[9]+c*e[10],r}function de(e,t){return fe(e,t,h),e}function be(e,t){return fe(e,d(t),me),e}function ye(e,t){return fe(e,t,y),e}function pe(e,t){return Object.keys(e).forEach((function(r){const n=e[r];r.indexOf("pos")>=0?ye(n,t):r.indexOf("tan")>=0||r.indexOf("binorm")>=0?de(n,t):r.indexOf("norm")>=0&&be(n,t)})),e}function he(e,t,r){return e=e||2,{position:{numComponents:2,data:[(t=t||0)+-1*(e*=.5),(r=r||0)+-1*e,t+1*e,r+-1*e,t+-1*e,r+1*e,t+1*e,r+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function xe(e,t,r,n,o){e=e||1,t=t||1,r=r||1,n=n||1,o=o||m();const l=(r+1)*(n+1),c=ce(3,l),f=ce(3,l),d=ce(2,l);for(let o=0;o<=n;o++)for(let l=0;l<=r;l++){const u=l/r,m=o/n;c.push(e*u-.5*e,0,t*m-.5*t),f.push(0,1,0),d.push(u,m)}const y=r+1,h=ce(3,r*n*2,Uint16Array);for(let e=0;e<n;e++)for(let t=0;t<r;t++)h.push((e+0)*y+t,(e+1)*y+t,(e+0)*y+t+1),h.push((e+1)*y+t,(e+1)*y+t+1,(e+0)*y+t+1);return pe({position:c,normal:f,texcoord:d,indices:h},o)}function ge(e,t,r,n,o,l,c){if(t<=0||r<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,l=l||0;const f=(o=o||Math.PI)-n,m=(c=c||2*Math.PI)-l,d=(t+1)*(r+1),y=ce(3,d),h=ce(3,d),x=ce(2,d);for(let o=0;o<=r;o++)for(let c=0;c<=t;c++){const u=c/t,d=o/r,v=m*u+l,w=f*d+n,F=Math.sin(v),A=Math.cos(v),E=Math.sin(w),P=A*E,T=Math.cos(w),S=F*E;y.push(e*P,e*T,e*S),h.push(P,T,S),x.push(1-u,d)}const v=t+1,w=ce(3,t*r*2,Uint16Array);for(let e=0;e<t;e++)for(let t=0;t<r;t++)w.push((t+0)*v+e,(t+0)*v+e+1,(t+1)*v+e),w.push((t+1)*v+e,(t+0)*v+e+1,(t+1)*v+e+1);return{position:y,normal:h,texcoord:x,indices:w}}const ve=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function we(e){const t=(e=e||1)/2,r=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],l=ce(3,24),c=ce(3,24),f=ce(2,24),m=ce(3,12,Uint16Array);for(let e=0;e<6;++e){const t=ve[e];for(let m=0;m<4;++m){const d=r[t[m]],y=n[e],h=o[m];l.push(d),c.push(y),f.push(h)}const d=4*e;m.push(d+0,d+1,d+2),m.push(d+0,d+2,d+3)}return{position:l,normal:c,texcoord:f,indices:m}}function Fe(e,t,r,n,o,l,c){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");const f=void 0===l||l,m=void 0===c||c,d=(f?2:0)+(m?2:0),y=(n+1)*(o+1+d),h=ce(3,y),x=ce(3,y),v=ce(2,y),w=ce(3,n*(o+d/2)*2,Uint16Array),F=n+1,A=Math.atan2(e-t,r),E=Math.cos(A),P=Math.sin(A),T=o+(m?2:0);for(let l=f?-2:0;l<=T;++l){let c,f=l/o,m=r*f;l<0?(m=0,f=1,c=e):l>o?(m=r,f=1,c=t):c=e+l/o*(t-e),-2!==l&&l!==o+2||(c=0,f=0),m-=r/2;for(let e=0;e<F;++e){const t=Math.sin(e*Math.PI*2/n),r=Math.cos(e*Math.PI*2/n);h.push(t*c,m,r*c),l<0?x.push(0,-1,0):l>o?x.push(0,1,0):0===c?x.push(0,0,0):x.push(t*E,P,r*E),v.push(e/n,1-f)}}for(let e=0;e<o+d;++e)if(!(1===e&&f||e===o+d-2&&m))for(let t=0;t<n;++t)w.push(F*(e+0)+0+t,F*(e+0)+1+t,F*(e+1)+1+t),w.push(F*(e+0)+0+t,F*(e+1)+1+t,F*(e+1)+0+t);return{position:h,normal:x,texcoord:v,indices:w}}function Ae(e,t){t=t||[];const data=[];for(let r=0;r<e.length;r+=4){const n=e[r],element=e.slice(r+1,r+4);element.push.apply(element,t);for(let e=0;e<n;++e)data.push.apply(data,element)}return data}function Ee(){const e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=Ae([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=Ae([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,o={position:ce(3,n),texcoord:ce(2,n),normal:ce(3,n),color:ce(4,n,Uint8Array),indices:ce(3,n/3,Uint16Array)};o.position.push(e),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(t),o.color.push(r);for(let e=0;e<n;++e)o.indices.push(e);return o}function Pe(e,t,r,n,o,f,m){if(o<=0)throw new Error("subdivisionDown must be > 0");const d=(m=m||1)-(f=f||0),y=2*(o+1)*4,h=ce(3,y),x=ce(3,y),v=ce(2,y);function w(a,b,s){return a+(b-a)*s}function F(t,r,m,y,F,A){for(let E=0;E<=o;E++){const P=r/1,T=E/o,S=2*(P-.5),R=(f+T*d)*Math.PI,s=Math.sin(R),z=Math.cos(R),I=w(e,t,s),C=S*n,M=z*e,k=s*I;h.push(C,M,k);const U=l(c([0,s,z],m),y);x.push(U),v.push(P*F+A,T)}}for(let e=0;e<2;e++){const n=2*(e/1-.5);F(t,e,[1,1,1],[0,0,0],1,0),F(t,e,[0,0,0],[n,0,0],0,0),F(r,e,[1,1,1],[0,0,0],1,0),F(r,e,[0,0,0],[n,0,0],0,1)}const A=ce(3,2*o*4,Uint16Array);function E(e,t){for(let r=0;r<o;++r)A.push(e+r+0,e+r+1,t+r+0),A.push(e+r+1,t+r+1,t+r+0)}const P=o+1;return E(0*P,4*P),E(5*P,7*P),E(6*P,2*P),E(3*P,1*P),{position:h,normal:x,texcoord:v,indices:A}}function Te(e,t,r,n,o,l){return Fe(e,e,t,r,n,o,l)}function Se(e,t,r,n,o,l){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;const c=(l=l||2*Math.PI)-o,f=r+1,m=n+1,d=f*m,y=ce(3,d),h=ce(3,d),x=ce(2,d),v=ce(3,r*n*2,Uint16Array);for(let l=0;l<m;++l){const m=l/n,d=m*Math.PI*2,v=Math.sin(d),w=e+v*t,F=Math.cos(d),A=F*t;for(let e=0;e<f;++e){const u=e/r,t=o+u*c,n=Math.sin(t),l=Math.cos(t),f=n*w,d=l*w,E=n*v,P=l*v;y.push(f,A,d),h.push(E,F,P),x.push(u,1-m)}}for(let e=0;e<n;++e)for(let t=0;t<r;++t){const r=1+t,n=1+e;v.push(f*e+t,f*n+t,f*e+r),v.push(f*n+t,f*n+r,f*e+r)}return{position:y,normal:h,texcoord:x,indices:v}}function Re(e,t,r,n,o){if(t<3)throw new Error("divisions must be at least 3");o=o||1,n=n||0;const l=(t+1)*((r=r||1)+1),c=ce(3,l),f=ce(3,l),m=ce(2,l),d=ce(3,r*t*2,Uint16Array);let y=0;const h=e-n,x=t+1;for(let e=0;e<=r;++e){const l=n+h*Math.pow(e/r,o);for(let i=0;i<=t;++i){const n=2*Math.PI*i/t,o=l*Math.cos(n),h=l*Math.sin(n);if(c.push(o,0,h),f.push(0,1,0),m.push(1-i/t,e/r),e>0&&i!==t){const a=y+(i+1),b=y+i,e=y+i-x,t=y+(i+1)-x;d.push(a,b,e),d.push(a,e,t)}}y+=t+1}return{position:c,normal:f,texcoord:m,indices:d}}function ze(e){return function(t){return se(t,e.apply(this,Array.prototype.slice.call(arguments,1)))}}function Ie(e){return function(t){return ae(t,e.apply(null,Array.prototype.slice.call(arguments,1)))}}Ie(Ee),ze(Ee),Ie(we),ze(we),Ie(xe),ze(xe),Ie(ge),ze(ge),Ie(Fe),ze(Fe),Ie(he),ze(he),Ie(Pe),ze(Pe),Ie(Te),ze(Te),Ie(Se),ze(Se),Ie(Re),ze(Re);function Ce(e){return!!e.texStorage2D}const Me=function(){const e={},t={};return function(r,n){return function(r){const n=r.constructor.name;if(!e[n]){for(const e in r)if("number"==typeof r[e]){const n=t[r[e]];t[r[e]]=n?`${n} | ${e}`:e}e[n]=!0}}(r),t[n]||("number"==typeof n?`0x${n.toString(16)}`:n)}}();const ke={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Ue=I,Be=function(){let e;return function(){return e=e||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null),e}}(),Oe=6406,Le=6407,De=6408,_e=6409,$e=6410,je=6402,We=34041,Ve=33071,Ne=9728,Ge=9729,He=3553,Ye=34067,Xe=32879,Ke=35866,qe=34069,Je=34070,Ze=34071,Qe=34072,et=34073,tt=34074,nt=10241,ot=10240,it=10242,at=10243,ut=32882,st=33082,lt=33083,ct=33084,ft=33085,mt=3317,bt=3314,yt=32878,pt=3316,ht=3315,xt=32877,gt=37443,vt=37441,wt=37440,Ft=33321,At=36756,Et=33325,Pt=33326,Tt=33330,St=33329,Rt=33338,zt=33337,It=33340,Ct=33339,Mt=33323,kt=36757,Ut=33327,Bt=33328,Ot=33336,Lt=33335,Dt=33332,_t=33331,$t=33334,jt=33333,Wt=32849,Vt=35905,Nt=36194,Gt=36758,Ht=35898,Yt=35901,Xt=34843,Kt=34837,qt=36221,Jt=36239,Zt=36215,Qt=36233,er=36209,rr=36227,nr=32856,or=35907,ir=36759,ar=32855,ur=32854,sr=32857,lr=34842,cr=34836,fr=36220,mr=36238,dr=36975,yr=36214,pr=36232,xr=36226,gr=36208,vr=33189,wr=33190,Fr=36012,Ar=36013,Er=35056,Pr=5120,Tr=5121,Sr=5122,Rr=5123,zr=5124,Ir=5125,Cr=5126,Mr=32819,kr=32820,Ur=33635,Br=5131,Or=36193,Lr=33640,Dr=35899,_r=35902,$r=36269,jr=34042,Wr=33319,Vr=33320,Nr=6403,Gr=36244,Hr=36248,Yr=36249,Xr={};{const e=Xr;e[Oe]={numColorComponents:1},e[_e]={numColorComponents:1},e[$e]={numColorComponents:2},e[Le]={numColorComponents:3},e[De]={numColorComponents:4},e[Nr]={numColorComponents:1},e[Gr]={numColorComponents:1},e[Wr]={numColorComponents:2},e[Vr]={numColorComponents:2},e[Le]={numColorComponents:3},e[Hr]={numColorComponents:3},e[De]={numColorComponents:4},e[Yr]={numColorComponents:4},e[je]={numColorComponents:1},e[We]={numColorComponents:2}}let Kr;function qr(e){if(!Kr){const e={};e[Oe]={textureFormat:Oe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Tr,Br,Or,Cr]},e[_e]={textureFormat:_e,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Tr,Br,Or,Cr]},e[$e]={textureFormat:$e,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Tr,Br,Or,Cr]},e[Le]={textureFormat:Le,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Tr,Br,Or,Cr,Ur]},e[De]={textureFormat:De,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Tr,Br,Or,Cr,Mr,kr]},e[je]={textureFormat:je,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Ir,Rr]},e[Ft]={textureFormat:Nr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Tr]},e[At]={textureFormat:Nr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Pr]},e[Et]={textureFormat:Nr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Cr,Br]},e[Pt]={textureFormat:Nr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Cr]},e[Tt]={textureFormat:Gr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Tr]},e[St]={textureFormat:Gr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Pr]},e[Dt]={textureFormat:Gr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Rr]},e[_t]={textureFormat:Gr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Sr]},e[$t]={textureFormat:Gr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ir]},e[jt]={textureFormat:Gr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[zr]},e[Mt]={textureFormat:Wr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Tr]},e[kt]={textureFormat:Wr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Pr]},e[Ut]={textureFormat:Wr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Cr,Br]},e[Bt]={textureFormat:Wr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Cr]},e[Ot]={textureFormat:Vr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Tr]},e[Lt]={textureFormat:Vr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Pr]},e[Rt]={textureFormat:Vr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Rr]},e[zt]={textureFormat:Vr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Sr]},e[It]={textureFormat:Vr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Ir]},e[Ct]={textureFormat:Vr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[zr]},e[Wt]={textureFormat:Le,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Tr]},e[Vt]={textureFormat:Le,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Tr]},e[Nt]={textureFormat:Le,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Tr,Ur]},e[Gt]={textureFormat:Le,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Pr]},e[Ht]={textureFormat:Le,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Cr,Br,Dr]},e[Yt]={textureFormat:Le,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Cr,Br,_r]},e[Xt]={textureFormat:Le,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Cr,Br]},e[Kt]={textureFormat:Le,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Cr]},e[qt]={textureFormat:Hr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Tr]},e[Jt]={textureFormat:Hr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Pr]},e[Zt]={textureFormat:Hr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Rr]},e[Qt]={textureFormat:Hr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Sr]},e[er]={textureFormat:Hr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Ir]},e[rr]={textureFormat:Hr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[zr]},e[nr]={textureFormat:De,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Tr]},e[or]={textureFormat:De,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Tr]},e[ir]={textureFormat:De,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Pr]},e[ar]={textureFormat:De,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Tr,kr,Lr]},e[ur]={textureFormat:De,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Tr,Mr]},e[sr]={textureFormat:De,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Lr]},e[lr]={textureFormat:De,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Cr,Br]},e[cr]={textureFormat:De,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Cr]},e[fr]={textureFormat:Yr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Tr]},e[mr]={textureFormat:Yr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Pr]},e[dr]={textureFormat:Yr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Lr]},e[yr]={textureFormat:Yr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Rr]},e[pr]={textureFormat:Yr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Sr]},e[xr]={textureFormat:Yr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[zr]},e[gr]={textureFormat:Yr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Ir]},e[vr]={textureFormat:je,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Rr,Ir]},e[wr]={textureFormat:je,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ir]},e[Fr]={textureFormat:je,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Cr]},e[Er]={textureFormat:We,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[jr]},e[Ar]={textureFormat:We,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[$r]},Object.keys(e).forEach((function(t){const r=e[t];r.bytesPerElementMap={},r.bytesPerElement.forEach((function(e,t){const n=r.type[t];r.bytesPerElementMap[n]=e}))})),Kr=e}return Kr[e]}function Jr(e,t){const r=qr(e);if(!r)throw"unknown internal format";const n=r.bytesPerElementMap[t];if(void 0===n)throw"unknown internal format";return n}function Zr(e){const t=qr(e);if(!t)throw"unknown internal format";return{format:t.textureFormat,type:t.type[0]}}function Qr(e){return!(e&e-1)}function en(e,t,r,n){if(!Ce(e))return Qr(t)&&Qr(r);const o=qr(n);if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function tn(e){const t=qr(e);if(!t)throw"unknown internal format";return t.textureFilterable}function rn(e,t,r){return Ue(t)?S(t):r||Tr}function nn(e,t,r,n,o){if(o%1!=0)throw"can't guess dimensions";if(r||n){if(n){if(!r&&(r=o/n)%1)throw"can't guess dimensions"}else if((n=o/r)%1)throw"can't guess dimensions"}else{const e=Math.sqrt(o/(t===Ye?6:1));e%1==0?(r=e,n=e):(r=o,n=1)}return{width:r,height:n}}function on(e,t){void 0!==t.colorspaceConversion&&e.pixelStorei(gt,t.colorspaceConversion),void 0!==t.premultiplyAlpha&&e.pixelStorei(vt,t.premultiplyAlpha),void 0!==t.flipY&&e.pixelStorei(wt,t.flipY)}function an(e){e.pixelStorei(mt,4),Ce(e)&&(e.pixelStorei(bt,0),e.pixelStorei(yt,0),e.pixelStorei(pt,0),e.pixelStorei(ht,0),e.pixelStorei(xt,0))}function un(e,t,r,n){var o;n.minMag&&(r.call(e,t,nt,n.minMag),r.call(e,t,ot,n.minMag)),n.min&&r.call(e,t,nt,n.min),n.mag&&r.call(e,t,ot,n.mag),n.wrap&&(r.call(e,t,it,n.wrap),r.call(e,t,at,n.wrap),(t===Xe||(o=t,"undefined"!=typeof WebGLSampler&&o instanceof WebGLSampler))&&r.call(e,t,ut,n.wrap)),n.wrapR&&r.call(e,t,ut,n.wrapR),n.wrapS&&r.call(e,t,it,n.wrapS),n.wrapT&&r.call(e,t,at,n.wrapT),n.minLod&&r.call(e,t,st,n.minLod),n.maxLod&&r.call(e,t,lt,n.maxLod),n.baseLevel&&r.call(e,t,ct,n.baseLevel),n.maxLevel&&r.call(e,t,ft,n.maxLevel)}function sn(e,t,r){const n=r.target||He;e.bindTexture(n,t),un(e,n,e.texParameteri,r)}function ln(e,t,r,n,o,l){r=r||ke.textureOptions,l=l||De;const c=r.target||He;if(n=n||r.width,o=o||r.height,e.bindTexture(c,t),en(e,n,o,l))e.generateMipmap(c);else{const t=tn(l)?Ge:Ne;e.texParameteri(c,nt,t),e.texParameteri(c,ot,t),e.texParameteri(c,it,Ve),e.texParameteri(c,at,Ve)}}function cn(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function fn(e,t){return(t=t||{}).cubeFaceOrder||[qe,Je,Ze,Qe,et,tt]}function mn(e,t){const r=fn(0,t).map((function(e,t){return{face:e,ndx:t}}));return r.sort((function(a,b){return a.face-b.face})),r}function dn(e,t,element,r){const n=(r=r||ke.textureOptions).target||He,o=r.level||0;let l=element.width,c=element.height;const f=r.internalFormat||r.format||De,m=Zr(f),d=r.format||m.format,y=r.type||m.type;if(on(e,r),e.bindTexture(n,t),n===Ye){const m=element.width,h=element.height;let x,v;if(m/6===h)x=h,v=[0,0,1,0,2,0,3,0,4,0,5,0];else if(h/6===m)x=m,v=[0,0,0,1,0,2,0,3,0,4,0,5];else if(m/3==h/2)x=m/3,v=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(m/2!=h/3)throw"can't figure out cube map from element: "+(element.src?element.src:element.nodeName);x=m/2,v=[0,0,1,0,0,1,1,1,0,2,1,2]}const w=Be();w?(w.canvas.width=x,w.canvas.height=x,l=x,c=x,mn(0,r).forEach((function(t){const r=v[2*t.ndx+0]*x,n=v[2*t.ndx+1]*x;w.drawImage(element,r,n,x,x,0,0,x,x),e.texImage2D(t.face,o,f,d,y,w.canvas)})),w.canvas.width=1,w.canvas.height=1):"undefined"!=typeof createImageBitmap&&(l=x,c=x,mn(0,r).forEach((function(m){const h=v[2*m.ndx+0]*x,w=v[2*m.ndx+1]*x;e.texImage2D(m.face,o,f,x,x,0,d,y,null),createImageBitmap(element,h,w,x,x,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(h){on(e,r),e.bindTexture(n,t),e.texImage2D(m.face,o,f,d,y,h),cn(r)&&ln(e,t,r,l,c,f)}))})))}else if(n===Xe||n===Ke){const t=Math.min(element.width,element.height),r=Math.max(element.width,element.height),l=r/t;if(l%1!=0)throw"can not compute 3D dimensions of element";const c=element.width===r?1:0,m=element.height===r?1:0;e.pixelStorei(mt,1),e.pixelStorei(bt,element.width),e.pixelStorei(yt,0),e.pixelStorei(xt,0),e.texImage3D(n,o,f,t,t,t,0,d,y,null);for(let r=0;r<l;++r){const l=r*t*c,f=r*t*m;e.pixelStorei(pt,l),e.pixelStorei(ht,f),e.texSubImage3D(n,o,0,0,r,t,t,1,d,y,element)}an(e)}else e.texImage2D(n,o,f,d,y,element);cn(r)&&ln(e,t,r,l,c,f),sn(e,t,r)}function bn(){}function yn(e,t){return void 0!==t||function(e){if("undefined"!=typeof document){const a=document.createElement("a");return a.href=e,a.hostname===location.hostname&&a.port===location.port&&a.protocol===location.protocol}{const t=new URL(location.href).origin;return new URL(e,location.href).origin===t}}(e)?t:"anonymous"}function pn(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function hn(e,t,r){return pn(e)?(setTimeout((function(){r(null,e)})),e):function(e,t,r){let img;if(r=r||bn,t=void 0!==t?t:ke.crossOrigin,t=yn(e,t),"undefined"!=typeof Image){img=new Image,void 0!==t&&(img.crossOrigin=t);const n=function(){img.removeEventListener("error",o),img.removeEventListener("load",l),img=null},o=function(){const t="couldn't load image: "+e;C(t),r(t,img),n()},l=function(){r(null,img),n()};return img.addEventListener("error",o),img.addEventListener("load",l),img.src=e,img}if("undefined"!=typeof ImageBitmap){let n,o;const l=function(){r(n,o)},c={};t&&(c.mode="cors"),fetch(e,c).then((function(e){if(!e.ok)throw e;return e.blob()})).then((function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){o=e,setTimeout(l)})).catch((function(e){n=e,setTimeout(l)})),img=null}return img}(e,t,r)}function xn(e,t,r){const n=(r=r||ke.textureOptions).target||He;if(e.bindTexture(n,t),!1===r.color)return;const o=function(e){return e=e||ke.textureColor,Ue(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(r.color);if(n===Ye)for(let t=0;t<6;++t)e.texImage2D(qe+t,0,De,1,1,0,De,Tr,o);else n===Xe||n===Ke?e.texImage3D(n,0,De,1,1,1,0,De,Tr,o):e.texImage2D(n,0,De,1,1,0,De,Tr,o)}function gn(e,t,r,n){n=n||bn,r=r||ke.textureOptions,xn(e,t,r);return hn((r=Object.assign({},r)).src,r.crossOrigin,(function(o,img){o?n(o,t,img):(dn(e,t,img,r),n(null,t,img))}))}function vn(e,t,r,n){n=n||bn;const o=r.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";const l=r.level||0,c=r.internalFormat||r.format||De,f=Zr(c),m=r.format||f.format,d=r.type||Tr,y=r.target||He;if(y!==Ye)throw"target must be TEXTURE_CUBE_MAP";xn(e,t,r),r=Object.assign({},r);let h=6;const x=[],v=fn(0,r);let w;w=o.map((function(o,f){return hn(o,r.crossOrigin,(F=v[f],function(o,img){--h,o?x.push(o):img.width!==img.height?x.push("cubemap face img is not a square: "+img.src):(on(e,r),e.bindTexture(y,t),5===h?fn().forEach((function(t){e.texImage2D(t,l,c,m,d,img)})):e.texImage2D(F,l,c,m,d,img),cn(r)&&e.generateMipmap(y)),0===h&&n(x.length?x:void 0,t,w)}));var F}))}function wn(e,t,r,n){n=n||bn;const o=r.src,l=r.internalFormat||r.format||De,c=Zr(l),f=r.format||c.format,m=r.type||Tr,d=r.target||Ke;if(d!==Xe&&d!==Ke)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";xn(e,t,r),r=Object.assign({},r);let y=o.length;const h=[];let x;const v=r.level||0;let w=r.width,F=r.height;const A=o.length;let E=!0;x=o.map((function(o,c){return hn(o,r.crossOrigin,(P=c,function(o,img){if(--y,o)h.push(o);else{if(on(e,r),e.bindTexture(d,t),E){E=!1,w=r.width||img.width,F=r.height||img.height,e.texImage3D(d,v,l,w,F,A,0,f,m,null);for(let s=0;s<A;++s)e.texSubImage3D(d,v,0,0,s,w,F,1,f,m,img)}else{let t,r=img;img.width===w&&img.height===F||(t=Be(),r=t.canvas,t.canvas.width=w,t.canvas.height=F,t.drawImage(img,0,0,w,F)),e.texSubImage3D(d,v,0,0,P,w,F,1,f,m,r),t&&r===t.canvas&&(t.canvas.width=0,t.canvas.height=0)}cn(r)&&e.generateMipmap(d)}0===y&&n(h.length?h:void 0,t,x)}));var P}))}function Fn(e,t,r,n){const o=(n=n||ke.textureOptions).target||He;e.bindTexture(o,t);let l=n.width,c=n.height,f=n.depth;const m=n.level||0,d=n.internalFormat||n.format||De,y=Zr(d),h=n.format||y.format,x=n.type||rn(0,r,y.type);if(Ue(r))r instanceof Uint8ClampedArray&&(r=new Uint8Array(r.buffer));else{const e=z(x);r=new e(r)}const v=Jr(d,x),w=r.byteLength/v;if(w%1)throw"length wrong size for format: "+Me(e,h);let F;if(o===Xe||o===Ke)if(l||c||f)!l||c&&f?!c||l&&f?(F=nn(0,o,l,c,w/f),l=F.width,c=F.height):(F=nn(0,o,l,f,w/c),l=F.width,f=F.height):(F=nn(0,o,c,f,w/l),c=F.width,f=F.height);else{const e=Math.cbrt(w);if(e%1!=0)throw"can't guess cube size of array of numElements: "+w;l=e,c=e,f=e}else F=nn(0,o,l,c,w),l=F.width,c=F.height;if(an(e),e.pixelStorei(mt,n.unpackAlignment||1),on(e,n),o===Ye){const t=w/6*(v/r.BYTES_PER_ELEMENT);mn(0,n).forEach((n=>{const o=t*n.ndx,data=r.subarray(o,o+t);e.texImage2D(n.face,m,d,l,c,0,h,x,data)}))}else o===Xe||o===Ke?e.texImage3D(o,m,d,l,c,f,0,h,x,r):e.texImage2D(o,m,d,l,c,0,h,x,r);return{width:l,height:c,depth:f,type:x}}function An(e,t,r){const n=r.target||He;e.bindTexture(n,t);const o=r.level||0,l=r.internalFormat||r.format||De,c=Zr(l),f=r.format||c.format,m=r.type||c.type;if(on(e,r),n===Ye)for(let t=0;t<6;++t)e.texImage2D(qe+t,o,l,r.width,r.height,0,f,m,null);else n===Xe||n===Ke?e.texImage3D(n,o,l,r.width,r.height,r.depth,0,f,m,null):e.texImage2D(n,o,l,r.width,r.height,0,f,m,null)}function En(e,t,r){r=r||bn,t=t||ke.textureOptions;const n=e.createTexture(),o=t.target||He;let l=t.width||1,c=t.height||1;const f=t.internalFormat||De;e.bindTexture(o,n),o===Ye&&(e.texParameteri(o,it,Ve),e.texParameteri(o,at,Ve));let m=t.src;if(m)if("function"==typeof m&&(m=m(e,t)),"string"==typeof m)gn(e,n,t,r);else if(Ue(m)||Array.isArray(m)&&("number"==typeof m[0]||Array.isArray(m[0])||Ue(m[0]))){const r=Fn(e,n,m,t);l=r.width,c=r.height}else Array.isArray(m)&&("string"==typeof m[0]||pn(m[0]))?o===Ye?vn(e,n,t,r):wn(e,n,t,r):(dn(e,n,m,t),l=m.width,c=m.height);else An(e,n,t);return cn(t)&&ln(e,n,t,l,c,f),sn(e,n,t),n}function Pn(e,t,r,n,o,l){n=n||r.width,o=o||r.height,l=l||r.depth;const c=r.target||He;e.bindTexture(c,t);const f=r.level||0,m=r.internalFormat||r.format||De,d=Zr(m),y=r.format||d.format;let h;const x=r.src;if(h=x&&(Ue(x)||Array.isArray(x)&&"number"==typeof x[0])?r.type||rn(0,x,d.type):r.type||d.type,c===Ye)for(let t=0;t<6;++t)e.texImage2D(qe+t,f,m,n,o,0,y,h,null);else c===Xe||c===Ke?e.texImage3D(c,f,m,n,o,l,0,y,h,null):e.texImage2D(c,f,m,n,o,0,y,h,null)}function Tn(e,t,r){r=r||bn;let n=0;const o=[],l={},c={};function f(){0===n&&setTimeout((function(){r(o.length?o:void 0,l,c)}),0)}return Object.keys(t).forEach((function(r){const m=t[r];let d;var y;("string"==typeof(y=m.src)||Array.isArray(y)&&"string"==typeof y[0])&&(d=function(e,t,img){c[r]=img,--n,e&&o.push(e),f()},++n),l[r]=En(e,m,d)})),f(),l}const Sn=C;function Rn(e){return"undefined"!=typeof document&&document.getElementById?document.getElementById(e):null}const zn=33984,In=34962,Cn=34963,Mn=35713,kn=35714,Un=35632,Bn=35633,On=35981,Ln=35718,Dn=35721,_n=35971,$n=35382,jn=35396,Wn=35398,Vn=35392,Nn=35395,Gn=5126,Hn=5124,Yn=5125,Xn=3553,Kn=34067,qn=32879,Jn=35866,Zn={};function Qn(e,t){return Zn[t].bindPoint}function eo(e,t){return function(r){e.uniform1i(t,r)}}function to(e,t){return function(r){e.uniform1iv(t,r)}}function ro(e,t){return function(r){e.uniform2iv(t,r)}}function no(e,t){return function(r){e.uniform3iv(t,r)}}function oo(e,t){return function(r){e.uniform4iv(t,r)}}function io(e,t,r,n){const o=Qn(0,t);return Ce(e)?function(t){let l,c;k(0,t)?(l=t,c=null):(l=t.texture,c=t.sampler),e.uniform1i(n,r),e.activeTexture(zn+r),e.bindTexture(o,l),e.bindSampler(r,c)}:function(t){e.uniform1i(n,r),e.activeTexture(zn+r),e.bindTexture(o,t)}}function ao(e,t,r,n,o){const l=Qn(0,t),c=new Int32Array(o);for(let e=0;e<o;++e)c[e]=r+e;return Ce(e)?function(t){e.uniform1iv(n,c),t.forEach((function(t,n){let o,f;e.activeTexture(zn+c[n]),k(0,t)?(o=t,f=null):(o=t.texture,f=t.sampler),e.bindSampler(r,f),e.bindTexture(l,o)}))}:function(t){e.uniform1iv(n,c),t.forEach((function(t,r){e.activeTexture(zn+c[r]),e.bindTexture(l,t)}))}}function uo(e,t){return function(b){if(b.value)switch(e.disableVertexAttribArray(t),b.value.length){case 4:e.vertexAttrib4fv(t,b.value);break;case 3:e.vertexAttrib3fv(t,b.value);break;case 2:e.vertexAttrib2fv(t,b.value);break;case 1:e.vertexAttrib1fv(t,b.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(In,b.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,b.numComponents||b.size,b.type||Gn,b.normalize||!1,b.stride||0,b.offset||0),void 0!==b.divisor&&e.vertexAttribDivisor(t,b.divisor)}}function so(e,t){return function(b){if(b.value){if(e.disableVertexAttribArray(t),4!==b.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(t,b.value)}else e.bindBuffer(In,b.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,b.numComponents||b.size,b.type||Hn,b.stride||0,b.offset||0),void 0!==b.divisor&&e.vertexAttribDivisor(t,b.divisor)}}function lo(e,t){return function(b){if(b.value){if(e.disableVertexAttribArray(t),4!==b.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(t,b.value)}else e.bindBuffer(In,b.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,b.numComponents||b.size,b.type||Yn,b.stride||0,b.offset||0),void 0!==b.divisor&&e.vertexAttribDivisor(t,b.divisor)}}function co(e,t,r){const n=r.size,o=r.count;return function(b){e.bindBuffer(In,b.buffer);const r=b.size||b.numComponents||n,l=r/o,c=b.type||Gn,f=Zn[c].size*r,m=b.normalize||!1,d=b.offset||0,y=f/o;for(let i=0;i<o;++i)e.enableVertexAttribArray(t+i),e.vertexAttribPointer(t+i,l,c,m,f,d+y*i),void 0!==b.divisor&&e.vertexAttribDivisor(t+i,b.divisor)}}Zn[5126]={Type:Float32Array,size:4,setter:function(e,t){return function(r){e.uniform1f(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1fv(t,r)}}},Zn[35664]={Type:Float32Array,size:8,setter:function(e,t){return function(r){e.uniform2fv(t,r)}},cols:2},Zn[35665]={Type:Float32Array,size:12,setter:function(e,t){return function(r){e.uniform3fv(t,r)}},cols:3},Zn[35666]={Type:Float32Array,size:16,setter:function(e,t){return function(r){e.uniform4fv(t,r)}},cols:4},Zn[5124]={Type:Int32Array,size:4,setter:eo,arraySetter:to},Zn[35667]={Type:Int32Array,size:8,setter:ro,cols:2},Zn[35668]={Type:Int32Array,size:12,setter:no,cols:3},Zn[35669]={Type:Int32Array,size:16,setter:oo,cols:4},Zn[5125]={Type:Uint32Array,size:4,setter:function(e,t){return function(r){e.uniform1ui(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1uiv(t,r)}}},Zn[36294]={Type:Uint32Array,size:8,setter:function(e,t){return function(r){e.uniform2uiv(t,r)}},cols:2},Zn[36295]={Type:Uint32Array,size:12,setter:function(e,t){return function(r){e.uniform3uiv(t,r)}},cols:3},Zn[36296]={Type:Uint32Array,size:16,setter:function(e,t){return function(r){e.uniform4uiv(t,r)}},cols:4},Zn[35670]={Type:Uint32Array,size:4,setter:eo,arraySetter:to},Zn[35671]={Type:Uint32Array,size:8,setter:ro,cols:2},Zn[35672]={Type:Uint32Array,size:12,setter:no,cols:3},Zn[35673]={Type:Uint32Array,size:16,setter:oo,cols:4},Zn[35674]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2fv(t,!1,r)}},rows:2,cols:2},Zn[35675]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3fv(t,!1,r)}},rows:3,cols:3},Zn[35676]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4fv(t,!1,r)}},rows:4,cols:4},Zn[35685]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x3fv(t,!1,r)}},rows:2,cols:3},Zn[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x4fv(t,!1,r)}},rows:2,cols:4},Zn[35687]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x2fv(t,!1,r)}},rows:3,cols:2},Zn[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x4fv(t,!1,r)}},rows:3,cols:4},Zn[35689]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4x2fv(t,!1,r)}},rows:4,cols:2},Zn[35690]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4x3fv(t,!1,r)}},rows:4,cols:3},Zn[35678]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Xn},Zn[35680]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Kn},Zn[35679]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:qn},Zn[35682]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Xn},Zn[36289]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Jn},Zn[36292]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Jn},Zn[36293]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Kn},Zn[36298]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Xn},Zn[36299]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:qn},Zn[36300]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Kn},Zn[36303]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Jn},Zn[36306]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Xn},Zn[36307]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:qn},Zn[36308]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Kn},Zn[36311]={Type:null,size:0,setter:io,arraySetter:ao,bindPoint:Jn};const fo={};fo[5126]={size:4,setter:uo},fo[35664]={size:8,setter:uo},fo[35665]={size:12,setter:uo},fo[35666]={size:16,setter:uo},fo[5124]={size:4,setter:so},fo[35667]={size:8,setter:so},fo[35668]={size:12,setter:so},fo[35669]={size:16,setter:so},fo[5125]={size:4,setter:lo},fo[36294]={size:8,setter:lo},fo[36295]={size:12,setter:lo},fo[36296]={size:16,setter:lo},fo[35670]={size:4,setter:so},fo[35671]={size:8,setter:so},fo[35672]={size:12,setter:so},fo[35673]={size:16,setter:so},fo[35674]={size:4,setter:co,count:2},fo[35675]={size:9,setter:co,count:3},fo[35676]={size:16,setter:co,count:4};const mo=/ERROR:\s*\d+:(\d+)/gi;const bo=/^[ \t]*\n/;function yo(e){let t=0;return bo.test(e)&&(t=1,e=e.replace(bo,"")),{lineOffset:t,shaderSource:e}}function po(e,t){return e.errorCallback(t),e.callback&&setTimeout((()=>{e.callback(`${t}\n${e.errors.join("\n")}`)})),null}function ho(e,t,r,n){const o=e.createShader(r);return e.shaderSource(o,yo(t).shaderSource),e.compileShader(o),n.callback||function(e,t,r,n){n=n||Sn;const o=e.getShaderParameter(r,Mn);if(!o){const o=e.getShaderInfoLog(r),{lineOffset:l,shaderSource:c}=yo(e.getShaderSource(r));n(`${function(e,t="",r=0){const n=[...t.matchAll(mo)],o=new Map(n.map(((e,r)=>{const o=parseInt(e[1]),l=n[r+1],c=l?l.index:t.length;return[o-1,t.substring(e.index,c)]})));return e.split("\n").map(((line,e)=>{const t=o.get(e);return`${e+1+r}: ${line}${t?`\n\n^^^ ${t}`:""}`})).join("\n")}(c,o,l)}\nError compiling ${Me(e,t)}: ${o}`)}return o}(e,r,o,n.errorCallback)?o:(e.deleteShader(o),null)}function xo(e,t,r){let n,o,l;if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e)r=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback&&e.errors)return e;const t=e;r=t.errorCallback,e=t.attribLocations,n=t.transformFeedbackVaryings,o=t.transformFeedbackMode,l=t.callback}const c=r||Sn,f=[],m={errorCallback(e,...t){f.push(e),c(e,...t)},transformFeedbackVaryings:n,transformFeedbackMode:o,callback:l,errors:f};if(e){let r={};Array.isArray(e)?e.forEach((function(e,n){r[e]=t?t[n]:n})):r=e,m.attribLocations=r}return m}const go=["VERTEX_SHADER","FRAGMENT_SHADER"];function vo(e,t){return t.indexOf("frag")>=0?Un:t.indexOf("vert")>=0?Bn:void 0}function wo(e,t){t.forEach((function(t){e.deleteShader(t)}))}const Fo=(e=0)=>new Promise((t=>setTimeout(t,e)));function Ao(e,t,r,n,o){const l=xo(r,n,o),c=[],f=[];for(let r=0;r<t.length;++r){let n=t[r];if("string"==typeof n){const t=Rn(n),o=t?t.text:n;let c=e[go[r]];t&&t.type&&(c=vo(0,t.type)||c),n=ho(e,o,c,l),f.push(n)}m=n,"undefined"!=typeof WebGLShader&&m instanceof WebGLShader&&c.push(n)}var m;if(c.length!==t.length)return wo(e,f),po(l,"not enough shaders for program");const d=e.createProgram();c.forEach((function(t){e.attachShader(d,t)})),l.attribLocations&&Object.keys(l.attribLocations).forEach((function(t){e.bindAttribLocation(d,l.attribLocations[t],t)}));let y=l.transformFeedbackVaryings;return y&&(y.attribs&&(y=y.attribs),Array.isArray(y)||(y=Object.keys(y)),e.transformFeedbackVaryings(d,y,l.transformFeedbackMode||On)),e.linkProgram(d),l.callback?(async function(e,t,r){const n=e.getExtension("KHR_parallel_shader_compile"),o=n?(e,t)=>e.getProgramParameter(t,n.COMPLETION_STATUS_KHR):()=>!0;let l=0;do{await Fo(l),l=1e3/60}while(!o(e,t));const c=Eo(e,t,r.errorCallback),f=c?void 0:r.errors.join("\n");if(!c){(r.errorCallback||Sn)(f),e.deleteProgram(t),t=null}r.callback(f,t)}(e,d,l),null):Eo(e,d,l.errorCallback)?d:(e.deleteProgram(d),wo(e,f),null)}function Eo(e,t,r){r=r||Sn;const n=e.getProgramParameter(t,kn);if(!n){r(`Error in program linking: ${e.getProgramInfoLog(t)}`)}return n}function Po(e,t,r,n,o){const l=xo(r,n,o),c=[];for(let r=0;r<t.length;++r){const n=ho(e,t[r],e[go[r]],l);if(!l.callback&&!n)return null;c.push(n)}return Ao(e,c,l)}function To(e){const t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}const So=/(\.|\[|]|\w+)/g,Ro=s=>s>="0"&&s<="9";function zo(e,t,r,n){const o=e.split(So).filter((s=>""!==s));let l=0,path="";for(;;){const e=o[l++];path+=e;const c=Ro(e[0]),f=c?parseInt(e):e;c&&(path+=o[l++]);if(l===o.length){r[f]=t;break}{const e=o[l++],t="["===e,c=r[f]||(t?[]:{});r[f]=c,r=c,n[path]=n[path]||function(e){return function(t){ko(e,t)}}(c),path+=e}}}function Io(e,t){let r=0;function n(t,n,o){const l=n.name.endsWith("[0]"),c=n.type,f=Zn[c];if(!f)throw new Error(`unknown type: 0x${c.toString(16)}`);let m;if(f.bindPoint){const t=r;r+=n.size,m=l?f.arraySetter(e,c,t,o,n.size):f.setter(e,c,t,o,n.size)}else m=f.arraySetter&&l?f.arraySetter(e,o):f.setter(e,o);return m.location=o,m}const o={},l={},c=e.getProgramParameter(t,Ln);for(let r=0;r<c;++r){const c=e.getActiveUniform(t,r);if(To(c))continue;let f=c.name;f.endsWith("[0]")&&(f=f.substr(0,f.length-3));const m=e.getUniformLocation(t,c.name);if(m){const e=n(0,c,m);o[f]=e,zo(f,e,l,o)}}return o}function Co(e,t){const r={},n=e.getProgramParameter(t,_n);for(let o=0;o<n;++o){const n=e.getTransformFeedbackVarying(t,o);r[n.name]={index:o,type:n.type,size:n.size}}return r}function Mo(e,t){const r=e.getProgramParameter(t,Ln),n=[],o=[];for(let l=0;l<r;++l){o.push(l),n.push({});const r=e.getActiveUniform(t,l);n[l].name=r.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(r){const l=r[0],c=r[1];e.getActiveUniforms(t,o,e[l]).forEach((function(e,t){n[t][c]=e}))}));const l={},c=e.getProgramParameter(t,$n);for(let r=0;r<c;++r){const n=e.getActiveUniformBlockName(t,r),o={index:e.getUniformBlockIndex(t,n),usedByVertexShader:e.getActiveUniformBlockParameter(t,r,jn),usedByFragmentShader:e.getActiveUniformBlockParameter(t,r,Wn),size:e.getActiveUniformBlockParameter(t,r,Vn),uniformIndices:e.getActiveUniformBlockParameter(t,r,Nn)};o.used=o.usedByVertexShader||o.usedByFragmentShader,l[n]=o}return{blockSpecs:l,uniformData:n}}function ko(e,t){for(const r in t){const n=e[r];"function"==typeof n?n(t[r]):ko(e[r],t[r])}}function Uo(e,...t){const r=e.uniformSetters||e,n=t.length;for(let e=0;e<n;++e){const n=t[e];if(Array.isArray(n)){const e=n.length;for(let t=0;t<e;++t)Uo(r,n[t])}else for(const e in n){const t=r[e];t&&t(n[e])}}}function Bo(e,t){const r={},n=e.getProgramParameter(t,Dn);for(let o=0;o<n;++o){const n=e.getActiveAttrib(t,o);if(To(n))continue;const l=e.getAttribLocation(t,n.name),c=fo[n.type],f=c.setter(e,l,c);f.location=l,r[n.name]=f}return r}function Oo(e,t){for(const r in t){const n=e[r];n&&n(t[r])}}function Lo(e,t,r){r.vertexArrayObject?e.bindVertexArray(r.vertexArrayObject):(Oo(t.attribSetters||t,r.attribs),r.indices&&e.bindBuffer(Cn,r.indices))}function Do(e,t){const r={program:t,uniformSetters:Io(e,t),attribSetters:Bo(e,t)};return Ce(e)&&(r.uniformBlockSpec=Mo(e,t),r.transformFeedbackInfo=Co(e,t)),r}const _o=/\s|{|}|;/;function $o(e,t,r,n,o){const l=xo(r,n,o),c=[];if(t=t.map((function(source){if(!_o.test(source)){const script=Rn(source);if(script)source=script.text;else{const e=`no element with id: ${source}`;l.errorCallback(e),c.push(e)}}return source})),c.length)return po(l,"");const f=l.callback;f&&(l.callback=(t,r)=>{let n;t||(n=Do(e,r)),f(t,n)});const m=Po(e,t,l);return m?Do(e,m):null}const jo=4,Wo=5123;function Vo(e,t,r,n,o,l){r=void 0===r?jo:r;const c=t.indices,f=t.elementType,m=void 0===n?t.numElements:n;o=void 0===o?0:o,f||c?void 0!==l?e.drawElementsInstanced(r,m,void 0===f?Wo:t.elementType,o,l):e.drawElements(r,m,void 0===f?Wo:t.elementType,o):void 0!==l?e.drawArraysInstanced(r,o,m,l):e.drawArrays(r,o,m)}const No=36160,Go=36161,Ho=3553,Yo=34041,Xo=36064,Ko=36096,qo=33306,Jo=33071,Zo=9729,Qo=[{format:6408,type:5121,min:Zo,wrap:Jo},{format:Yo}],ei={};ei[34041]=qo,ei[6401]=36128,ei[36168]=36128,ei[6402]=Ko,ei[33189]=Ko,ei[33190]=Ko,ei[36012]=Ko,ei[35056]=qo,ei[36013]=qo;const ti={};ti[32854]=!0,ti[32855]=!0,ti[36194]=!0,ti[34041]=!0,ti[33189]=!0,ti[6401]=!0,ti[36168]=!0;const ri=32;function ni(e,t,r,n){const o=No,l=e.createFramebuffer();e.bindFramebuffer(o,l),r=r||e.drawingBufferWidth,n=n||e.drawingBufferHeight;const c=[],f={framebuffer:l,attachments:[],width:r,height:n};return(t=t||Qo).forEach((function(t,i){let l=t.attachment;const m=t.samples,d=t.format;let y=t.attachmentPoint||function(e,t){return ei[e]||ei[t]}(d,t.internalFormat);if(y||(y=Xo+i),function(e){return e>=Xo&&e<Xo+ri}(y)&&c.push(y),!l)if(void 0!==m||function(e){return ti[e]}(d))l=e.createRenderbuffer(),e.bindRenderbuffer(Go,l),m>1?e.renderbufferStorageMultisample(Go,m,d,r,n):e.renderbufferStorage(Go,d,r,n);else{const o=Object.assign({},t);o.width=r,o.height=n,void 0===o.auto&&(o.auto=!1,o.min=o.min||o.minMag||Zo,o.mag=o.mag||o.minMag||Zo,o.wrapS=o.wrapS||o.wrap||Jo,o.wrapT=o.wrapT||o.wrap||Jo),l=En(e,o)}if(M(0,l))e.framebufferRenderbuffer(o,y,Go,l);else{if(!k(0,l))throw new Error("unknown attachment type");void 0!==t.layer?e.framebufferTextureLayer(o,y,l,t.level||0,t.layer):e.framebufferTexture2D(o,y,t.target||Ho,l,t.level||0)}f.attachments.push(l)})),e.drawBuffers&&e.drawBuffers(c),f}function oi(e,t,r,n,o){n=n||e.drawingBufferWidth,o=o||e.drawingBufferHeight,t.width=n,t.height=o,(r=r||Qo).forEach((function(r,l){const c=t.attachments[l],f=r.format,m=r.samples;if(void 0!==m||M(0,c))e.bindRenderbuffer(Go,c),m>1?e.renderbufferStorageMultisample(Go,m,f,n,o):e.renderbufferStorage(Go,f,n,o);else{if(!k(0,c))throw new Error("unknown attachment type");Pn(e,c,r,n,o)}}))}function ii(canvas,e){e=e||1,e=Math.max(0,e);const t=canvas.clientWidth*e|0,r=canvas.clientHeight*e|0;return(canvas.width!==t||canvas.height!==r)&&(canvas.width=t,canvas.height=r,!0)}}}]);