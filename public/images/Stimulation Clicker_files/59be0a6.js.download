(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{1437:function(t,e,o){"use strict";o(848)},1438:function(t,e,o){var n=o(106)((function(i){return i[1]}));n.push([t.i,".sidebar[data-v-9368c4de]{animation:slideIn-9368c4de .3s ease-out .4s forwards;bottom:70px;position:fixed;right:-2px;transform:translate(100%);z-index:3}@keyframes slideIn-9368c4de{0%{transform:translateX(100%)}to{transform:translateX(0)}}.tab[data-v-9368c4de]{align-items:center;background:#ffefd5;border:2px solid #472f19;cursor:pointer;display:flex;justify-content:center;margin-top:-2px;outline:none;padding:6px 0 3px;touch-action:manipulation;width:60px}.tab-icon[data-v-9368c4de],.tab-inner[data-v-9368c4de]{text-align:center}.tab-icon[data-v-9368c4de]{height:30px;transition:transform .1s ease-out;width:30px}.tab:hover .tab-icon[data-v-9368c4de]{transform:scale(1.05)}.tab:hover .heart[data-v-9368c4de]{filter:drop-shadow(0 0 3px rgb(226,86,86,.5))}.tab-label[data-v-9368c4de]{color:#472f19;font-size:12px;position:relative;text-align:center;top:-3px}.sidebar .tab[data-v-9368c4de]:first-child{border-top-left-radius:5px}.sidebar .tab[data-v-9368c4de]:last-child{border-bottom-left-radius:5px}.heart-liked[data-v-9368c4de]{animation:liked-9368c4de .34s ease-out forwards;filter:none!important}.heart-liked path[data-v-9368c4de]{transition:fill .15s ease-out}@keyframes liked-9368c4de{30%{transform:scale(1.3)}55%{transform:scale(1)}75%{transform:scale(1.15)}to{transform:scale(1)}}@media screen and (max-width:600px){.sidebar[data-v-9368c4de]{bottom:60px}.tab[data-v-9368c4de]{padding:6px 0 2px;width:54px}.tab-likes[data-v-9368c4de]{display:none}}",""]),n.locals={},t.exports=n},1439:function(t,e,o){"use strict";o(849)},1440:function(t,e,o){var n=o(106)((function(i){return i[1]}));n.push([t.i,".modal[data-v-72b6d5f5]{position:fixed;z-index:5}.modal[data-v-72b6d5f5],.modal-bg[data-v-72b6d5f5]{height:100%;left:0;top:0;width:100%}.modal-bg[data-v-72b6d5f5]{animation:fadeIn-72b6d5f5 .15s ease-in-out forwards;background:rgba(41,29,17,.8);opacity:0;position:absolute}@keyframes fadeIn-72b6d5f5{0%{opacity:0}to{opacity:1}}.modal-inner[data-v-72b6d5f5]{background:#ffefd5;border-radius:5px;display:flex;flex-direction:column;font-size:16px;height:100%;max-height:calc(100vh - 200px);overflow-y:scroll;padding:25px 20px;scrollbar-width:none;will-change:transform}.modal-inner[data-v-72b6d5f5]::-webkit-scrollbar{display:none}.modal-inner-wrapper[data-v-72b6d5f5]{animation:map-72b6d5f5 .25s ease-in-out forwards;border:2px solid #472f19;border-radius:5px;left:50%;max-height:calc(100vh - 200px);max-width:400px;position:absolute;top:50%;transform:translate(-50%,-50%) scaleY(0);width:calc(100% - 40px)}.modal-fade[data-v-72b6d5f5]{background:linear-gradient(180deg,rgba(255,239,213,0) 0,#ffefd5);border-radius:5px;bottom:-4px;height:100px;left:0;pointer-events:none;position:absolute;transition:opacity .2s linear;width:100%}@keyframes map-72b6d5f5{0%{transform:translate(-50%,-50%) scaleY(0)}to{transform:translate(-50%,-50%) scaleY(1)}}.modal-close[data-v-72b6d5f5]{cursor:pointer;height:28px;position:absolute;right:5px;top:5px;width:28}.modal-close[data-v-72b6d5f5]:hover{transform:scale(1.1)}.modal-title[data-v-72b6d5f5]{font-size:24px;margin-bottom:10px;text-align:center}.modal-fade-hide[data-v-72b6d5f5]{opacity:0}.fade-trigger[data-v-72b6d5f5]{height:1px;width:100%}@media screen and (max-width:600px){.modal-close[data-v-72b6d5f5]{height:29px;width:29px}}",""]),n.locals={},t.exports=n},1441:function(t,e,o){"use strict";o(850)},1442:function(t,e,o){var n=o(106)((function(i){return i[1]}));n.push([t.i,".share-wrapper[data-v-1a7e411c]{display:grid;grid-template-columns:1fr 90px;width:100%;grid-gap:10px;margin-top:15px}.share-input[data-v-1a7e411c]{border:2px solid #472f19;border-radius:5px;padding:10px;width:100%}.share-button[data-v-1a7e411c],.share-input[data-v-1a7e411c]{font-size:17px;touch-action:manipulation}.share-button[data-v-1a7e411c]{align-items:center;background:#472f19;border:none;border-radius:5px;box-shadow:none;color:#ffefd5;cursor:pointer;display:flex;font-family:Baskerville;justify-content:center;padding:0}.share-button[data-v-1a7e411c]:hover{transform:scale(1.03)}.original[data-v-1a7e411c]{margin-top:20px;text-align:center;width:100%}.original a[data-v-1a7e411c]{color:#472f19;-webkit-text-decoration:underline;text-decoration:underline}",""]),n.locals={},t.exports=n},1443:function(t,e,o){"use strict";o(851)},1444:function(t,e,o){var n=o(106)((function(i){return i[1]}));n.push([t.i,".like-row[data-v-5a8c3ce0]{display:flex;justify-content:center;grid-gap:10px;padding:5px 0;transition:transform .2s}.like-row[data-v-5a8c3ce0]:hover{background:#dac9af;border-radius:5px;cursor:pointer;transform:scale(1.06)}.like-place[data-v-5a8c3ce0]{font-size:11px;opacity:.6;position:relative;top:6px}.like-notice[data-v-5a8c3ce0]{text-align:center}.likes[data-v-5a8c3ce0]{margin-top:20px;padding:0 18px}",""]),n.locals={},t.exports=n},1445:function(t,e,o){"use strict";o(852)},1446:function(t,e,o){var n=o(106)((function(i){return i[1]}));n.push([t.i,".info-desc[data-v-22dd907c]{line-height:1.5em;padding:0 10px;text-align:center}.info-desc a[data-v-22dd907c]{color:#472f19;-webkit-text-decoration:underline;text-decoration:underline}.info-created[data-v-22dd907c]{margin-top:15px}",""]),n.locals={},t.exports=n},1447:function(t,e,o){"use strict";o(853)},1448:function(t,e,o){var n=o(106)((function(i){return i[1]}));n.push([t.i,".splash[data-v-13b9861c]{background-color:#ffefd5;height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:100}.splash-loaded[data-v-13b9861c]{animation:fadeOut-13b9861c .42s cubic-bezier(.5,1,.89,1) 1.6s forwards}@keyframes fadeOut-13b9861c{0%{opacity:1}to{opacity:0}}.title[data-v-13b9861c]{animation:fadeIn-13b9861c .25s ease-in-out forwards;left:50%;max-width:420px;opacity:0;padding:0 20px;position:absolute;top:50%;transform:translate(-50%,-75%);width:100%;z-index:100}@keyframes fadeIn-13b9861c{to{opacity:1}}.splash-bottom[data-v-13b9861c]{bottom:0;left:0;-o-object-fit:contain;object-fit:contain;-o-object-position:center bottom;object-position:center bottom;position:absolute;transform:translateY(100%);width:100%;will-change:transform}.splash-loaded .splash-bottom[data-v-13b9861c]{animation:popup-13b9861c .4s cubic-bezier(.76,0,.24,1) .1s forwards}.splash-logo[data-v-13b9861c]{display:block;height:32px;left:15px;position:absolute;top:18px}@keyframes popup-13b9861c{to{transform:translateY(0)}}@media screen and (max-width:600px){.title[data-v-13b9861c]{display:block;max-width:85%;transform:translate(-50%,-50%)}.splash-logo[data-v-13b9861c]{height:30px}}",""]),n.locals={},t.exports=n},1449:function(t,e,o){"use strict";o(854)},1450:function(t,e,o){var n=o(106),r=o(205),d=o(1451),l=o(1452),c=n((function(i){return i[1]})),f=r(d),h=r(l);c.push([t.i,"@font-face{font-family:Baskerville;src:url("+f+")}@font-face{font-family:SoCold;src:url("+h+")}[data-v-666b8394]::-moz-selection{background:#472f19}[data-v-666b8394]::selection{background:#472f19}.wrapper[data-v-666b8394]{color:#472f19;font-family:Baskerville}.top[data-v-666b8394]{align-items:center;background-color:#ffefd5;border-bottom:2px solid #472f19;display:grid;grid-template-columns:200px 1fr 200px;height:70px;justify-content:center;left:0;position:fixed;text-align:center;top:0;width:100%;z-index:2}.title[data-v-666b8394]{height:28px;margin-left:auto;margin-right:auto}.frame[data-v-666b8394]{background:#ffefd5;border:0;filter:blur(10px);height:100%;height:calc(100% + 30px);left:0;left:-58px;opacity:0;pointer-events:none;position:fixed;top:0;top:-15px;touch-action:manipulation;width:100%;width:calc(100% + 116px);z-index:0}.frame-active[data-v-666b8394]{filter:none;opacity:1;pointer-events:auto;transition:filter .3s ease-out;z-index:1}.random[data-v-666b8394]{align-items:center;-webkit-appearance:none;background:#472f19;border:none;border-radius:5px;color:#ffefd5;cursor:pointer;display:flex;font-family:Baskerville;font-size:20px;height:50px;justify-content:center;justify-self:flex-end;margin-right:10px;touch-action:manipulation;width:150px}.random-pulse[data-v-666b8394]{animation:pulse-666b8394 1s ease-out 3s infinite alternate-reverse}@keyframes pulse-666b8394{0%{transform:scale(1.04)}to{transform:scale(1)}}.random[data-v-666b8394]:first-letter{font-family:SoCold;font-size:30px}.random-icon[data-v-666b8394]{height:23px;margin-right:10px}.random-spin[data-v-666b8394]{transform:rotate(180deg);transition:transform .35s ease-out}.random-loading[data-v-666b8394]{animation:loading-666b8394 1.5s linear infinite}@keyframes loading-666b8394{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.site-logo[data-v-666b8394]{display:block;height:32px;margin-left:15px}.site-logo[data-v-666b8394]:hover{transform:scale(1.04)}.info-wrapper[data-v-666b8394]{position:relative;z-index:2}.info[data-v-666b8394]{align-items:center;animation:info-666b8394 .4s ease-in-out .05s forwards;background:#ffefd5;border-bottom:2px solid #472f19;border-bottom-left-radius:5px;border-left:2px solid #472f19;display:flex;justify-content:center;padding:12px 22px;position:fixed;right:0;text-align:right;top:70px;transform:rotateX(90deg);transform-origin:center top;will-change:transform}.info-location[data-v-666b8394]{font-size:14px}.likes[data-v-666b8394]{background:none;border:none;border-radius:5px;color:rgba(0,0,0,.7);cursor:pointer;height:50px;padding:10px;width:50px}@keyframes info-666b8394{0%{transform:rotateX(90deg)}to{transform:rotateX(0deg)}}.info-icon[data-v-666b8394]{align-items:center;background:#ffefd5;border-radius:50%;bottom:15px;cursor:pointer;display:flex;height:22px;justify-content:center;left:15px;position:fixed;width:22px;z-index:2}.info-icon[data-v-666b8394]:hover{transform:scale(1.04)}.info-icon img[data-v-666b8394]{height:16px;width:16px}.info-title[data-v-666b8394]{font-size:19px;margin-bottom:5px}.info-location[data-v-666b8394]{opacity:.7}.info-location img[data-v-666b8394]{height:13px;margin-right:6px;position:relative;top:1px}@media (hover:hover){.random[data-v-666b8394]:hover{background:#372412;transform:scale(1.04)}}@media screen and (max-width:750px){.random[data-v-666b8394]{margin-right:8px}}@media screen and (max-width:650px){.frame[data-v-666b8394]{height:calc(100% + 30px);left:-60px;top:-15px;width:calc(100% + 120px)}.info-icon[data-v-666b8394]{display:none}.site-logo[data-v-666b8394]{height:30px}.title-wrapper[data-v-666b8394]{display:none}.top[data-v-666b8394]{grid-template-columns:1fr 1fr}.info[data-v-666b8394]{padding:8px 14px 8px 15px}.info-title[data-v-666b8394]{font-size:17px;margin-bottom:2px}.info-location[data-v-666b8394]{font-size:13px}.info-location img[data-v-666b8394]{height:12px}}",""]),c.locals={},t.exports=c},1451:function(t,e,o){t.exports=o.p+"fonts/LibreBaskerville-Regular.fac7df0.ttf"},1452:function(t,e,o){t.exports=o.p+"fonts/SoCold-Regular.ce9208c.ttf"},1503:function(t,e,o){"use strict";o.r(e);var n,r,d,l,c,f=o(292),h=o(11),v=(o(65),o(87),o(46),o(68),o(146),o(49),o(67),o(51),o(17),o(69),o(148),o(47),o(206),o(333),o(308)),m=o.n(v),w="https://lionfish-app-xxqtp.ondigitalocean.app",x={props:{view:{type:Object,required:!0}},data:function(){return{liked:!1}},watch:{view:function(){this.checkIfLiked()}},mounted:function(){this.checkIfLiked()},methods:{onLikeClick:function(){var t=JSON.parse(localStorage.getItem("wonders-of-street-view-likes"));if(this.liked){if(m.a.post("".concat(w,"/unlike"),{id:this.view.id}),t){var e=t.indexOf(this.view.id);t.splice(e,1),localStorage.setItem("wonders-of-street-view-likes",JSON.stringify(t))}this.$emit("unliked",this.view)}else m.a.post("".concat(w,"/like"),{id:this.view.id}),t?(t.push(this.view.id),localStorage.setItem("wonders-of-street-view-likes",JSON.stringify(t))):localStorage.setItem("wonders-of-street-view-likes",JSON.stringify([this.view.id])),this.$emit("liked",this.view);console.log(localStorage.getItem("wonders-of-street-view-likes")),this.liked=!this.liked},formatLikes:function(t){return t>=1e6?"".concat((t/1e6).toFixed(1),"M"):t>=1e3?"".concat((t/1e3).toFixed(1),"K"):t},checkIfLiked:function(){var t=this,e=JSON.parse(localStorage.getItem("wonders-of-street-view-likes"));e&&e.some((function(e){return e===t.view.id}))?this.liked=!0:this.liked=!1}}},k=(o(1437),o(30)),y=Object(k.a)(x,(function(){var t=this,e=t._self._c;return e("div",{key:t.view.id,staticClass:"sidebar"},[e("div",{staticClass:"tab",on:{click:t.onLikeClick}},[e("div",{staticClass:"tab-inner"},[e("svg",{staticClass:"tab-icon heart",class:{"heart-liked":t.liked},staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},attrs:{width:"100%",height:"100%",viewBox:"0 0 46 41",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[e("g",{attrs:{transform:"matrix(1,0,0,1,-2.00001,-7)"}},[e("g",{attrs:{transform:"matrix(5.12,0,0,5.12,0,0)"}},[e("path",{style:{fill:t.liked?"rgb(226, 86, 86, 1)":"rgba(226, 86, 86, 0)","fill-rule":"nonzero"},attrs:{d:"M4.883,9.238L4.758,9.135C4.52,8.936 4.199,8.721 3.827,8.472C2.377,7.501 0.391,6.172 0.391,3.906C0.391,2.506 1.53,1.367 2.93,1.367C3.69,1.367 4.403,1.706 4.883,2.285C5.363,1.706 6.075,1.367 6.836,1.367C8.236,1.367 9.375,2.506 9.375,3.906C9.375,6.172 7.389,7.501 5.939,8.472C5.566,8.721 5.245,8.936 5.008,9.135L4.883,9.238Z"}}),t._v(" "),e("path",{staticStyle:{fill:"rgb(226, 86, 86)"},attrs:{d:"M4.883,9.238L4.758,9.135C4.52,8.936 4.199,8.721 3.827,8.472C2.377,7.501 0.391,6.172 0.391,3.906C0.391,2.506 1.53,1.367 2.93,1.367C3.69,1.367 4.403,1.706 4.883,2.285C5.363,1.706 6.075,1.367 6.836,1.367C8.236,1.367 9.375,2.506 9.375,3.906C9.375,6.172 7.389,7.501 5.939,8.472C5.566,8.721 5.245,8.936 5.008,9.135L4.883,9.238ZM4.883,8.734C4.655,8.557 4.368,8.364 4.044,8.148C3.342,7.678 2.508,7.124 1.852,6.41C1.239,5.743 0.781,4.932 0.781,3.906C0.781,2.722 1.745,1.758 2.93,1.758C3.573,1.758 4.176,2.044 4.582,2.534C4.656,2.624 4.767,2.676 4.883,2.676C4.999,2.676 5.109,2.624 5.184,2.534C5.59,2.044 6.192,1.758 6.836,1.758C8.021,1.758 8.984,2.722 8.984,3.906C8.984,4.932 8.527,5.743 7.913,6.41C7.257,7.124 6.423,7.678 5.721,8.148C5.398,8.364 5.112,8.556 4.883,8.734Z"}})])])]),t._v(" "),e("div",{staticClass:"tab-label"},[t._v("\n        "+t._s(t.formatLikes(t.view.likes+this.liked||0))+"\n      ")])])]),t._v(" "),e("div",{staticClass:"tab tab-likes",on:{click:function(e){return t.$emit("showLiked")}}},[t._m(0)]),t._v(" "),e("div",{staticClass:"tab",on:{click:function(e){return t.$emit("showShare")}}},[t._m(1)])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tab-inner"},[e("img",{staticClass:"tab-icon",attrs:{src:"/wonders-of-street-view/likes.svg"}}),t._v(" "),e("div",{staticClass:"tab-label"},[t._v("Likes")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tab-inner"},[e("img",{staticClass:"tab-icon",attrs:{src:"/wonders-of-street-view/share.svg"}}),t._v(" "),e("div",{staticClass:"tab-label"},[t._v("Share")])])}],!1,null,"9368c4de",null).exports,C=(o(464),{props:{title:{type:String,required:!0}},data:function(){return{showFade:!1}},mounted:function(){var t=this;this.$refs.modalInner.scrollHeight>window.innerHeight-200&&(this.showFade=!0),new IntersectionObserver((function(e){t.showFade=!e[0].isIntersecting}),{root:this.$refs.modalInner,threshold:1}).observe(this.$refs.fadeTrigger)}}),_=(o(1439),Object(k.a)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-bg",on:{click:function(e){return t.$emit("hide")}}}),t._v(" "),e("div",{staticClass:"modal-inner-wrapper"},[e("div",{ref:"modalInner",staticClass:"modal-inner"},[e("div",{staticClass:"modal-title"},[t._v(t._s(t.title))]),t._v(" "),t._t("default"),t._v(" "),e("div",{ref:"fadeTrigger",staticClass:"fade-trigger"})],2),t._v(" "),e("div",{staticClass:"modal-fade",class:{"modal-fade-hide":!t.showFade}}),t._v(" "),e("img",{staticClass:"modal-close",attrs:{src:"/wonders-of-street-view/close.svg"},on:{click:function(e){return t.$emit("hide")}}})])])}),[],!1,null,"72b6d5f5",null).exports),S={components:{Modal:_},props:{view:{type:Object,required:!0}},data:function(){return{copied:!1}},methods:{onInputClick:function(t){t.target.select()},onCopyClick:function(){var t=this;this.$refs.shareInput.select(),document.execCommand("copy"),this.copied=!0,clearTimeout(n),n=setTimeout((function(){t.copied=!1}),3e3)}}},I=(o(1441),Object(k.a)(S,(function(){var t=this,e=t._self._c;return e("Modal",{attrs:{title:"Share"},on:{hide:function(e){return t.$emit("hide")}}},[e("div",{staticClass:"share-wrapper"},[e("input",{ref:"shareInput",staticClass:"share-input",attrs:{readonly:"readonly"},domProps:{value:"https://neal.fun/wonders-of-street-view/?v=".concat(t.view.id)},on:{click:t.onInputClick}}),t._v(" "),e("button",{staticClass:"share-button",on:{click:t.onCopyClick}},[t._v("\n      "+t._s(t.copied?"Copied":"Copy")+"\n    ")])]),t._v(" "),e("div",{staticClass:"original"},[e("a",{attrs:{href:t.view.link,target:"_blank"}},[t._v("On Google Street View")])])])}),[],!1,null,"1a7e411c",null).exports),L={components:{Modal:_},props:{likes:{type:Array,required:!0}},computed:{likesReversed:function(){return this.likes.slice().reverse()}}},j=(o(1443),Object(k.a)(L,(function(){var t=this,e=t._self._c;return e("Modal",{attrs:{title:"Your Likes"},on:{hide:function(e){return t.$emit("hide")}}},[e("div",{staticClass:"likes"},[t._l(t.likesReversed,(function(o){return e("div",{key:o.id,staticClass:"like-row",on:{click:function(e){return t.$emit("likeClicked",o)}}},[e("div",{staticClass:"like-title"},[t._v("\n        "+t._s(o.title)+"\n      ")])])})),t._v(" "),0===t.likes.length?e("div",{staticClass:"like-notice"},[t._v("\n      You haven't liked any street views yet.\n    ")]):t._e()],2)])}),[],!1,null,"5a8c3ce0",null).exports),M={components:{Modal:_}},O=(o(1445),Object(k.a)(M,(function(){var t=this,e=t._self._c;return e("Modal",{attrs:{title:"Info"},on:{hide:function(e){return t.$emit("hide")}}},[e("div",{staticClass:"info-desc"},[t._v("\n    Send your weird and cool street view finds to\n    "),e("a",{attrs:{target:"_blank",href:"mailto:streetview@neal.fun"}},[t._v("streetview@neal.fun")]),t._v(" "),e("div",{staticClass:"info-created"},[t._v("Made by Neal Agarwal")])])])}),[],!1,null,"22dd907c",null).exports),V={data:function(){return{splashLoaded:!1,isMobile:window.innerWidth<=600}},methods:{onLoad:function(){this.splashLoaded=!0}}},z=(o(1447),{components:{Sidebar:y,ShareModal:I,LikedModal:j,InfoModal:O,Splash:Object(k.a)(V,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"splash",class:{"splash-loaded":t.splashLoaded}},[e("NuxtLink",{attrs:{to:"/"}},[e("img",{staticClass:"splash-logo",attrs:{src:"/wonders-of-street-view/logo.svg"}})]),t._v(" "),e("img",{staticClass:"splash-bottom",attrs:{src:"/wonders-of-street-view/splash".concat(t.isMobile?"-mobile":"",".png")},on:{load:t.onLoad}}),t._v(" "),e("img",{staticClass:"title",attrs:{src:"/wonders-of-street-view/splash-title.svg"}})],1)}),[],!1,null,"13b9861c",null).exports},data:function(){return{currFrame:0,currView:{title:""},nextView:{title:""},viewIndex:1,views:[],playSpinAnimation:!1,showShare:!1,showLiked:!1,showInfo:!1,hasClickedRandom:!1,loading:!1,initialLoading:!0,preloadBefore:3,likes:[]}},mounted:function(){var t=this;setTimeout((function(){t.initialLoading=!1}),1900)},computed:{firstFrameSrc:function(){var t=0===this.currFrame?this.currView.embed:this.nextView.embed;return t&&t.startsWith("https://www.google.com/maps/embed")?t:""},secondFrameSrc:function(){var t=1===this.currFrame?this.currView.embed:this.nextView.embed;return t&&t.startsWith("https://www.google.com/maps/embed")?t:""}},watch:{currView:function(){if(this.currView){var t=JSON.parse(localStorage.getItem("wonders-of-street-view-seen"));t?t.includes(this.currView.id)||t.push(this.currView.id):t=[this.currView.id],t.length>=200&&(t=t.slice(-200)),localStorage.setItem("wonders-of-street-view-seen",JSON.stringify(t))}}},created:(c=Object(h.a)(regeneratorRuntime.mark((function t(){var e,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$route.query.v){t.next=10;break}return t.prev=1,t.next=4,m.a.get("".concat(w,"/getViews?id=").concat(this.$route.query.v));case 4:o=t.sent,(e=this.views).push.apply(e,Object(f.a)(o.data.views)),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:this.getRandom(),this.getStoredLikes();case 12:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return c.apply(this,arguments)}),methods:{getRandom:(l=Object(h.a)(regeneratorRuntime.mark((function t(){var e,o,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return o=JSON.parse(localStorage.getItem("wonders-of-street-view-seen")),this.views.length>this.preloadBefore&&o.push.apply(o,Object(f.a)(this.views.slice(this.views.length-this.preloadBefore,this.views.length).map((function(t){return t.id})))),n=o?"?seen="+o.join(","):"",t.next=7,m.a.get("".concat(w,"/random").concat(n));case 7:r=t.sent,(e=this.views).push.apply(e,Object(f.a)(r.data.views)),this.loading&&(this.viewIndex++,this.loading=!1),this.currView=this.views[this.viewIndex-1],this.nextView=this.views[this.viewIndex];case 12:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),getStoredLikes:(d=Object(h.a)(regeneratorRuntime.mark((function t(){var e,o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return o=JSON.parse(localStorage.getItem("wonders-of-street-view-likes")),t.next=5,m.a.get("".concat(w,"/getViews?id=").concat(o.join(",")));case 5:n=t.sent,(e=this.likes).push.apply(e,Object(f.a)(n.data.views));case 7:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)}),onLiked:function(view){this.likes.some((function(t){return t.id===view.id}))||this.likes.push(view)},onUnliked:function(view){this.likes=this.likes.filter((function(t){return t.id!==view.id}))},goTo:function(view){this.currView=view,this.showLiked=!1},onRandomClick:function(){var t=this;this.initialLoading||this.loading||(this.viewIndex>=this.views.length-1?this.loading=!0:(this.hasClickedRandom=!0,this.viewIndex++,this.currView=this.nextView,this.nextView=this.views[this.viewIndex],this.viewIndex===this.views.length-this.preloadBefore&&this.getRandom(),this.currFrame=0===this.currFrame?1:0,this.playSpinAnimation=!0,clearTimeout(r),r=setTimeout((function(){t.playSpinAnimation=!1}),350)))}}}),R=z,F=(o(1449),Object(k.a)(R,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("Splash"),t._v(" "),t.initialLoading?t._e():e("Sidebar",{attrs:{view:t.currView},on:{showShare:function(e){t.showShare=!0},showLiked:function(e){t.showLiked=!0},liked:t.onLiked,unliked:t.onUnliked}}),t._v(" "),t.showShare?e("ShareModal",{attrs:{view:t.currView},on:{hide:function(e){t.showShare=!1}}}):t._e(),t._v(" "),t.showLiked?e("LikedModal",{attrs:{likes:t.likes},on:{hide:function(e){t.showLiked=!1},likeClicked:t.goTo}}):t._e(),t._v(" "),t.showInfo?e("InfoModal",{on:{hide:function(e){t.showInfo=!1}}}):t._e(),t._v(" "),e("div",{staticClass:"info-icon"},[e("img",{attrs:{src:"/wonders-of-street-view/info.svg"},on:{click:function(e){t.showInfo=!0}}})]),t._v(" "),e("div",{staticClass:"top"},[e("NuxtLink",{attrs:{to:"/"}},[e("img",{staticClass:"site-logo",attrs:{src:"/wonders-of-street-view/logo.svg"}})]),t._v(" "),t._m(0),t._v(" "),e("button",{staticClass:"random",class:{"random-pulse":!t.hasClickedRandom},on:{click:t.onRandomClick}},[e("img",{staticClass:"random-icon",class:{"random-spin":t.playSpinAnimation,"random-loading":t.loading},attrs:{src:"/wonders-of-street-view/refresh.svg"}}),t._v("Random\n    ")])],1),t._v(" "),t.initialLoading?t._e():e("div",{staticClass:"info-wrapper"},[e("div",{key:t.currView.id,staticClass:"info"},[e("div",{staticClass:"info-inner"},[e("div",{staticClass:"info-title"},[t._v(t._s(t.currView.title))]),t._v(" "),e("div",{staticClass:"info-location"},[e("img",{attrs:{src:"/wonders-of-street-view/pin.svg"}}),t._v(t._s(t.currView.place)+"\n        ")])])])]),t._v(" "),e("iframe",{ref:"frame0",staticClass:"frame",class:{"frame-active":0===t.currFrame},attrs:{src:t.firstFrameSrc,width:"100%",height:"100%",allowfullscreen:""}}),t._v(" "),e("iframe",{ref:"frame1",staticClass:"frame",class:{"frame-active":1===t.currFrame},attrs:{src:t.secondFrameSrc,width:"100%",height:"100%",allowfullscreen:""}})],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"title-wrapper"},[t("img",{staticClass:"title",attrs:{src:"/wonders-of-street-view/title.svg"}})])}],!1,null,"666b8394",null));e.default=F.exports},292:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var n=o(108);var r=o(143);function d(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},333:function(t,e,o){"use strict";var n=o(2),r=o(3),d=o(54),l=o(214),c=o(211),f=o(4),h=RangeError,v=String,m=Math.floor,w=r(c),x=r("".slice),k=r(1..toFixed),y=function(t,e,o){return 0===e?o:e%2==1?y(t,e-1,o*t):y(t*t,e/2,o)},C=function(data,t,e){for(var o=-1,n=e;++o<6;)n+=t*data[o],data[o]=n%1e7,n=m(n/1e7)},_=function(data,t){for(var e=6,o=0;--e>=0;)o+=data[e],data[e]=m(o/t),o=o%t*1e7},S=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=v(data[t]);s=""===s?e:s+w("0",7-e.length)+e}return s};n({target:"Number",proto:!0,forced:f((function(){return"0.000"!==k(8e-5,3)||"1"!==k(.9,0)||"1.25"!==k(1.255,2)||"1000000000000000128"!==k(0xde0b6b3a7640080,0)}))||!f((function(){k({})}))},{toFixed:function(t){var e,o,n,r,c=l(this),f=d(t),data=[0,0,0,0,0,0],m="",k="0";if(f<0||f>20)throw new h("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return v(c);if(c<0&&(m="-",c=-c),c>1e-21)if(o=(e=function(t){for(var e=0,o=t;o>=4096;)e+=12,o/=4096;for(;o>=2;)e+=1,o/=2;return e}(c*y(2,69,1))-69)<0?c*y(2,-e,1):c/y(2,e,1),o*=4503599627370496,(e=52-e)>0){for(C(data,0,o),n=f;n>=7;)C(data,1e7,0),n-=7;for(C(data,y(10,n,1),0),n=e-1;n>=23;)_(data,1<<23),n-=23;_(data,1<<n),C(data,1,1),_(data,2),k=S(data)}else C(data,0,o),C(data,1<<-e,0),k=S(data)+w("0",f);return k=f>0?m+((r=k.length)<=f?"0."+w("0",f-r)+k:x(k,0,r-f)+"."+x(k,r-f)):m+k}})},336:function(t,e,o){"use strict";var n=o(3),r=o(20),d=o(14),l=/"/g,c=n("".replace);t.exports=function(t,e,o,n){var f=d(r(t)),h="<"+e;return""!==o&&(h+=" "+o+'="'+c(d(n),l,"&quot;")+'"'),h+">"+f+"</"+e+">"}},337:function(t,e,o){"use strict";var n=o(4);t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},464:function(t,e,o){"use strict";var n=o(2),r=o(336);n({target:"String",proto:!0,forced:o(337)("link")},{link:function(t){return r(this,"a","href",t)}})},848:function(t,e,o){var content=o(1438);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(107).default)("a54e2778",content,!0,{sourceMap:!1})},849:function(t,e,o){var content=o(1440);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(107).default)("47514cf6",content,!0,{sourceMap:!1})},850:function(t,e,o){var content=o(1442);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(107).default)("f2818f6a",content,!0,{sourceMap:!1})},851:function(t,e,o){var content=o(1444);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(107).default)("4b3e72fc",content,!0,{sourceMap:!1})},852:function(t,e,o){var content=o(1446);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(107).default)("511b2e55",content,!0,{sourceMap:!1})},853:function(t,e,o){var content=o(1448);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(107).default)("7e3e2d1b",content,!0,{sourceMap:!1})},854:function(t,e,o){var content=o(1450);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(107).default)("7378517c",content,!0,{sourceMap:!1})}}]);