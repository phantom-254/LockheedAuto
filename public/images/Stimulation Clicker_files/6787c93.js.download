(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1056:function(e,t,n){"use strict";n(550)},1057:function(e,t,n){var r=n(106)((function(i){return i[1]}));r.push([e.i,".item-wrapper[data-v-73c98bfa]{contain:layout style;display:inline-block;margin:4px;max-width:calc(100% - 5px);position:relative}.item[data-v-73c98bfa]{background:var(--item-bg);border:1px solid var(--border-color);border-radius:5px;contain:layout style paint;cursor:pointer;font-size:15.4px;line-height:1em;overflow-x:hidden;padding:8px 8px 7px;text-overflow:ellipsis;transition:background .15s linear;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap}.item-emoji[data-v-73c98bfa]{font-size:15.4px;pointer-events:none}.item-hidden-toggle[data-v-73c98bfa]{align-items:center;background:var(--item-bg);border:1px solid var(--border-color);border-radius:100%;cursor:pointer;display:flex;height:22px;justify-content:center;pointer-events:auto;position:absolute;right:-10px;top:-10px;width:22px;z-index:2}.item-hidden-toggle[data-v-73c98bfa]:hover{background:#f4f4f4}.item-hidden-toggle-icon[data-v-73c98bfa]{height:11px;width:11px}.item-hidden[data-v-73c98bfa]{opacity:.5}.item-hidden[data-v-73c98bfa],.item-hidden-mode[data-v-73c98bfa],.item-hidden[data-v-73c98bfa]:hover{background:var(--item-bg)!important;border-color:var(--border-color)!important;cursor:auto;pointer-events:none}.item-hidden .item-hidden-toggle[data-v-73c98bfa]:hover{background:#ebebeb!important;border-color:#a6a6a6!important}.dark-mode .item-hidden-toggle-icon[data-v-73c98bfa]{filter:invert(1)}.dark-mode .item-hidden-toggle[data-v-73c98bfa]:hover{background:#444!important}@media (hover:hover){.item[data-v-73c98bfa]:hover{background:var(--instance-bg-hover);border:1px solid var(--instance-border-hover)}}@media screen and (min-width:1150px){.item[data-v-73c98bfa]{padding:9px 10px 8px}.item[data-v-73c98bfa],.item-emoji[data-v-73c98bfa]{font-size:16.4px}}@media screen and (max-width:1150px){.item[data-v-73c98bfa]{max-width:267px}}@media screen and (max-width:800px){.item[data-v-73c98bfa]{line-height:32px;min-height:32px;padding:1px 9px 0;width:auto}}",""]),r.locals={},e.exports=r},1058:function(e,t,n){"use strict";n(551)},1059:function(e,t,n){var r=n(106)((function(i){return i[1]}));r.push([e.i,'#sidebar[data-v-5c28f8c6]{background:var(--sidebar-bg);border-left:1px solid var(--border-color);contain:strict;height:100vh;overflow-x:visible;overflow-y:scroll;position:fixed;right:0;top:0;transition:width .05s ease;z-index:10}.resize-handle[data-v-5c28f8c6]{cursor:ew-resize;height:100vh;left:-4px;margin-top:-100vh;position:sticky;top:0;width:6px;z-index:20}.resize-handle[data-v-5c28f8c6]:active,.resize-handle[data-v-5c28f8c6]:hover{background:rgba(0,0,0,.06)}.dark-mode .resize-handle[data-v-5c28f8c6]:active,.dark-mode .resize-handle[data-v-5c28f8c6]:hover{background:hsla(0,0%,100%,.15)}.items[data-v-5c28f8c6]{line-height:.5em;margin-left:auto;margin-right:auto;max-width:900px;min-height:calc(100svh - 92px);padding:9px}.empty-sidebar[data-v-5c28f8c6]{font-size:15px;left:50%;pointer-events:none;position:absolute;text-align:center;top:25px;transform:translateX(-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none}.sidebar-controls[data-v-5c28f8c6]{bottom:0;margin-top:20px;position:sticky;width:100%;z-index:2}.sidebar-controls[data-v-5c28f8c6]:before{background:linear-gradient(180deg,hsla(0,0%,100%,0),#fff 60%);content:"";height:100px;left:0;position:absolute;right:0;top:-50px}.dark-mode .sidebar-controls[data-v-5c28f8c6]:before{background:linear-gradient(180deg,transparent,rgba(0,0,0,.9) 60%)}.sidebar-search[data-v-5c28f8c6]{align-items:center;background:var(--background-color);display:flex;justify-content:right;position:relative}.sort-wrapper[data-v-5c28f8c6]{display:grid;grid-template-columns:1fr 30px;height:100%;position:relative;width:100%}.sidebar-sorting[data-v-5c28f8c6]{cursor:pointer;display:grid;grid-template-columns:1fr 1fr 40px;text-align:center;grid-gap:4px;justify-content:center;margin:0 auto;padding:0 8px}.sorting-item[data-v-5c28f8c6]{align-items:center;background:var(--background-color);border:1px solid var(--border-color);border-bottom:none;border-top-left-radius:10px;border-top-right-radius:10px;display:flex;font-size:14px;height:32px;justify-content:center;transform:translateY(1px)}.discoveries-active[data-v-5c28f8c6],.sorting-selectable[data-v-5c28f8c6]:hover{background:var(--instance-bg-hover)}.sidebar-input[data-v-5c28f8c6]{background:url(/infinite-craft/search.svg) no-repeat 22px 22px;background-position:10px 10px;background-size:21px 21px;border:none;border-top:1px solid var(--border-color);color:var(--text-color);font-size:15px;height:40px;line-height:18px;outline:none;padding:0 20px 0 40px;position:relative;width:100%}.sidebar-input[data-v-5c28f8c6]::-moz-placeholder{opacity:.8}.sidebar-input[data-v-5c28f8c6]::placeholder{opacity:.8}.dark-mode .sidebar-input[data-v-5c28f8c6]::-moz-placeholder{opacity:.75}.dark-mode .sidebar-input[data-v-5c28f8c6]::placeholder{opacity:.75}.sidebar-input[data-v-5c28f8c6]:after{content:"";font-size:20px;left:10px;pointer-events:none;top:50%}.sidebar-input-close[data-v-5c28f8c6],.sidebar-input[data-v-5c28f8c6]:after{position:absolute;transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;user-select:none}.sidebar-input-close[data-v-5c28f8c6]{cursor:pointer;opacity:.45;right:10px;top:calc(50% + 1px);width:15px}.dark-mode .sidebar-input-close[data-v-5c28f8c6]{filter:invert(1)}.sort[data-v-5c28f8c6]{cursor:pointer;font-size:14px;opacity:.9;padding:2px}.sort-img[data-v-5c28f8c6]{height:15px;padding:2px;position:relative;top:2px}.sort-img[data-v-5c28f8c6],.sorting-icon[data-v-5c28f8c6]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.sorting-icon[data-v-5c28f8c6]{height:13px;margin-right:5px}.sort-direction-icon[data-v-5c28f8c6],.sorting-icon[data-v-5c28f8c6]{line-height:0px;pointer-events:none}.sort-direction-icon[data-v-5c28f8c6]{height:11px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.dark-mode .sort-direction-icon[data-v-5c28f8c6]{filter:invert(1)}.sort-direction-icon-flip[data-v-5c28f8c6]{transform:rotate(180deg)}.sort-inner[data-v-5c28f8c6]{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.sort-name[data-v-5c28f8c6]{border-top-left-radius:10px}.brief-text .sort-by-text[data-v-5c28f8c6]{display:none}.brief-text[data-v-5c28f8c6]{text-transform:capitalize}.sort-direction[data-v-5c28f8c6]{border-left:1px solid var(--border-color);border-top-right-radius:10px;height:100%;width:100%}.sort-direction[data-v-5c28f8c6]:hover{background:var(--instance-bg-hover)}.dark-mode .sorting-icon[data-v-5c28f8c6]{filter:invert(1)}.trash-icon[data-v-5c28f8c6]{margin-right:0;transform:scale(1.2)}.empty-sidebar-icon[data-v-5c28f8c6]{margin-right:5px;margin-top:-5px;position:relative;top:5px;width:22px}.dark-mode .empty-sidebar-icon[data-v-5c28f8c6]{filter:invert(1)}@keyframes itemRemoveScale-5c28f8c6{0%{scale:0}to{scale:1}}.item-selected[data-v-5c28f8c6]{background:#e3e3e3}.instruction[data-v-5c28f8c6]{border:1px solid var(--border-color);border-radius:5px;font-size:14px;line-height:1.2em;margin-left:auto;margin-right:auto;margin-top:25px;padding:9px 0;pointer-events:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:calc(100% - 10px)}.instruction-icon[data-v-5c28f8c6]{margin-right:5px;margin-top:-3px;position:relative;top:3px;width:16px}.dark-mode .instruction-icon[data-v-5c28f8c6]{filter:invert(1)}.bottom-spacer[data-v-5c28f8c6]{height:10px}.fake-items[data-v-5c28f8c6]{animation:fadeIn-5c28f8c6 .5s linear forwards;opacity:0}.fake-item[data-v-5c28f8c6]{background:linear-gradient(0deg,#f1f1f1 0,#fff);border:1px solid var(--border-color);border-radius:5px;display:inline-block;height:34px;margin:5px;width:80px}.fake-item[data-v-5c28f8c6]:nth-child(2n){width:95px}.fake-item[data-v-5c28f8c6]:nth-child(3n){width:85px}.trash-icon-animate[data-v-5c28f8c6]{animation:trashIconAnimate-5c28f8c6 .5s ease-in-out infinite alternate-reverse}.sort-dropdown[data-v-5c28f8c6]{animation:fadeInDropdown-5c28f8c6 .2s linear forwards;background:red;border:1px solid var(--border-color);border-radius:10px;box-shadow:0 -10px 20px 15px rgba(0,0,0,.03);left:50%;min-width:170px;overflow:hidden;position:absolute;top:0;transform:translate(-50%,calc(-100% - 10px));width:100%}.dark-mode .sort-dropdown[data-v-5c28f8c6]{box-shadow:0 -10px 20px 15px hsla(0,0%,100%,.03)}@keyframes fadeInDropdown-5c28f8c6{0%{opacity:0;transform:translate(-50%,calc(-100% - 5px))}to{opacity:1;transform:translate(-50%,calc(-100% - 10px))}}.sort-dropdown-option[data-v-5c28f8c6]{align-items:center;background:var(--background-color);display:flex;justify-content:center;padding:9px 0}.sort-dropdown-option[data-v-5c28f8c6]:hover{background:#f3f3f3}.dark-mode .sort-dropdown-option[data-v-5c28f8c6]:hover{background:#1e1e1e}@keyframes trashIconAnimate-5c28f8c6{0%{rotate:-5deg}to{rotate:5deg}}@keyframes fadeIn-5c28f8c6{0%{opacity:0}to{opacity:.4}}@media screen and (min-width:1150px){.items[data-v-5c28f8c6]{min-height:calc(100svh - 97px)}.instruction[data-v-5c28f8c6]{font-size:15px}.sidebar-input[data-v-5c28f8c6]{background-position:11px 12px;background-size:23px 23px;font-size:16px;height:45px;line-height:21px;padding-left:43px;padding-top:2px}.sidebar-input-close[data-v-5c28f8c6]{right:12px;width:18px}}@media screen and (max-width:800px){#sidebar[data-v-5c28f8c6]{border-left:none;border-top:1px solid #9f9f9f;bottom:0;height:183px;overflow-x:scroll;overflow-y:hidden;top:auto;width:100%!important}.sidebar-inner[data-v-5c28f8c6]{white-space:nowrap}#sidebar[data-v-5c28f8c6]::-webkit-scrollbar{display:none}.sidebar-controls[data-v-5c28f8c6]{display:none}.items[data-v-5c28f8c6]{display:flex;height:183px;min-height:auto;padding:5px 5px 7px}.items-row[data-v-5c28f8c6]{display:flex;white-space:nowrap}.items-inner[data-v-5c28f8c6]{height:100px;width:auto}.instruction[data-v-5c28f8c6]{display:none}.bottom-spacer[data-v-5c28f8c6]{height:100%;width:10px}.resize-handle[data-v-5c28f8c6]{display:none}}',""]),r.locals={},e.exports=r},1060:function(e,t,n){"use strict";n(552)},1061:function(e,t,n){var r=n(106)((function(i){return i[1]}));r.push([e.i,".side-controls[data-v-1748f434]{bottom:7px;display:flex;position:fixed;right:calc(var(--sidebar-width) + 13px);-webkit-user-select:none;-moz-user-select:none;user-select:none;grid-gap:19px;z-index:3}.dark-mode .side-controls[data-v-1748f434]{filter:invert(1)}.clear[data-v-1748f434],.sound[data-v-1748f434]{cursor:pointer;opacity:.8;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:22px}.sound[data-v-1748f434]{transform:scale(.92)}.dark-mode-icon[data-v-1748f434]{cursor:pointer;width:22px}.coffee[data-v-1748f434]{width:15px}.coffee-link[data-v-1748f434]{line-height:0}.clear[data-v-1748f434]:hover,.coffee[data-v-1748f434]:hover,.dark-mode-icon[data-v-1748f434]:hover,.sound[data-v-1748f434]:hover,.trash[data-v-1748f434]:hover{transform:scale(1.05)}.dark-mode .sidebar-controls[data-v-1748f434]:after{background:linear-gradient(180deg,transparent,rgba(0,0,0,.9))}.sidebar-controls-fade-show[data-v-1748f434]:after{opacity:1}.trash[data-v-1748f434]{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:19px}.trash-active[data-v-1748f434]{animation:sway .3s linear infinite alternate-reverse}.hide-icon[data-v-1748f434]{cursor:pointer;width:23px}.tool-icon[data-v-1748f434]{user-drag:none;-webkit-user-drag:none}dialog[data-v-1748f434]{background:#fff;border:1px solid #d9d9d9;border-radius:8px;box-shadow:0 0 15px 0 rgba(0,0,0,.04);left:50%;max-width:280px;opacity:0;padding:18px 0;position:fixed;top:50%;transform:translate(-50%,-50%);width:100%;z-index:999}dialog[data-v-1748f434]::backdrop{animation:fadeIn-1748f434 .19s ease-out forwards;background:rgba(0,0,0,.2);opacity:1}dialog[open][data-v-1748f434]{animation:dialogSlideIn-1748f434 .19s ease-out;opacity:1}@keyframes dialogSlideIn-1748f434{0%{transform:translate(-50%,calc(-50% + 30px))}to{transform:translate(-50%,-50%)}}dialog.closing[data-v-1748f434]{animation:fadeOut-1748f434 .12s ease-out;pointer-events:none}dialog.closing[data-v-1748f434]::backdrop{animation:fadeIn-1748f434 .15s reverse forwards}@keyframes fadeIn-1748f434{0%{opacity:0}to{opacity:1}}@keyframes fadeOut-1748f434{0%{opacity:1}to{opacity:0;transform:translate(-50%,-50%) scale(.4)}}.question[data-v-1748f434]{font-size:16px;margin-top:1px;text-align:center}.actions[data-v-1748f434]{margin-top:12px;text-align:center}.action-btn[data-v-1748f434]{background:#fff;border:1px solid #d9d9d9;border-radius:5px;color:#000;cursor:pointer;font-size:16px;padding:5px;width:80px}.action-btn[data-v-1748f434]:hover{background:linear-gradient(0deg,#f9f8f8 50%,#fff 90%)}.action-btn[data-v-1748f434]:focus{outline:none}.action-danger[data-v-1748f434]{background:linear-gradient(0deg,#f2f2f2 50%,#fff 90%)}.action-danger[data-v-1748f434]:hover,.dark-mode dialog[data-v-1748f434]{background:var(--instance-bg-hover)}.dark-mode dialog[data-v-1748f434]{border:1px solid var(--border-color);color:#fff}.dark-mode dialog[data-v-1748f434]::backdrop{background:rgba(0,0,0,.5)}.dark-mode .action-btn[data-v-1748f434]{background:var(--instance-bg-hover);border:1px solid var(--border-color);color:#fff}.dark-mode .action-btn[data-v-1748f434]:hover{background:linear-gradient(0deg,#e4e4e4 50%,#fff 90%);color:#000}.dark-mode .action-danger[data-v-1748f434]:hover{background:linear-gradient(0deg,#ccfcff 50%,#fff 90%)}@media screen and (max-width:800px){.side-controls[data-v-1748f434]{bottom:188px;right:8px;grid-gap:15px}.clear[data-v-1748f434],.dark-mode-icon[data-v-1748f434],.sound[data-v-1748f434]{width:20px}}",""]),r.locals={},e.exports=r},1062:function(e,t,n){"use strict";n(553)},1063:function(e,t,n){var r=n(106)((function(i){return i[1]}));r.push([e.i,".modal-bg[data-v-885fff84]{animation:fadeIn-885fff84 .12s ease-in forwards;background:rgba(0,0,0,.2);height:100%;left:0;position:fixed;top:0;width:100%;z-index:999}@keyframes fadeIn-885fff84{0%{opacity:0}to{opacity:1}}.modal[data-v-885fff84]{animation:scrollUp-885fff84 .18s ease-out forwards,fadeIn-885fff84 .15s ease-in forwards;background:#fff;border:1px solid #d9d9d9;border-radius:15px;box-shadow:0 0 15px 0 rgba(0,0,0,.04);left:50%;max-width:450px;padding:20px;pointer-events:auto;position:fixed;top:50%;transform:translate(-50%,-50%);width:100%;z-index:1000}@keyframes scrollUp-885fff84{0%{transform:translate(-50%,calc(-50% + 100px))}to{transform:translate(-50%,-50%)}}.saves[data-v-885fff84]{margin-top:10px}.save[data-v-885fff84]{align-items:center;border:1px solid #d9d9d9;border-radius:10px;cursor:pointer;display:flex;height:85px;justify-content:space-between;margin-bottom:5px;padding:0 10px 0 25px;position:relative;transition:transform .1s linear}.save[data-v-885fff84]:hover{background:linear-gradient(0deg,#f2f2f2 50%,#fff 90%);transform:scale(1.01)}.save-selected[data-v-885fff84],.save-selected[data-v-885fff84]:hover{background:linear-gradient(0deg,#d6fcff 50%,#fff 90%);cursor:auto}.save-name[data-v-885fff84]{display:inline-block;font-size:19px;position:relative}.save-actions[data-v-885fff84]{display:flex;justify-content:center;grid-gap:12px;bottom:10px;font-size:13px;position:absolute;right:12px}.save-action[data-v-885fff84]{cursor:pointer;display:flex;grid-gap:4px;opacity:.6}.save-action-icon[data-v-885fff84]{height:13px;position:relative;top:1px;user-drag:none;-webkit-user-drag:none}.save-action[data-v-885fff84]:hover{opacity:1}.save-items[data-v-885fff84]{font-size:14px;margin-top:3px;opacity:.6}.save-icon[data-v-885fff84]{cursor:pointer;height:17px;position:relative;top:2px;user-drag:none;-webkit-user-drag:none}.save-icon[data-v-885fff84]:hover{transform:scale(1.09)}.save-name-input[data-v-885fff84]{background:none;border:none;border-bottom:1px solid #000;border-radius:0;margin-bottom:-1px;min-width:20px;outline:none;position:relative;width:100%}.save-name-input[data-v-885fff84],.save-name-sizer[data-v-885fff84]{font-size:19px;padding:2px 3px 0 1px}.save-name-sizer[data-v-885fff84]{height:0;left:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:pre}.save-name-input-disabled[data-v-885fff84]{background:none;border:none;pointer-events:none}.delete-actions[data-v-885fff84]{display:flex;justify-content:center;grid-gap:4px;font-size:14px}.delete-action[data-v-885fff84]{background:#fff;border:1px solid #d9d9d9;border-radius:5px;color:#000;cursor:pointer;font-size:15px;margin-top:10px;padding:4px 16px}.delete-action[data-v-885fff84]:hover{background:#f1f1f1}.delete-wrapper[data-v-885fff84]{margin-left:auto;margin-right:auto}.delete-text[data-v-885fff84]{color:#000;font-size:15px;margin-top:2px}.download-input[data-v-885fff84]{display:none}.closing .modal[data-v-885fff84]{animation:fadeOut-885fff84 .12s ease-out forwards;pointer-events:none}.closing .modal-bg[data-v-885fff84]{animation:fadeIn-885fff84 .12s reverse forwards}.controls[data-v-885fff84]{font-size:15px;margin-top:15px}.control[data-v-885fff84]{border-top:1px solid var(--instance-border);display:grid;grid-template-columns:2fr 1fr;margin-left:auto;margin-right:auto;padding:8px 0}.control-text[data-v-885fff84]{opacity:.7}.modal-tabs[data-v-885fff84]{font-size:19px}.modal-tab-wrapper[data-v-885fff84],.modal-tabs[data-v-885fff84]{display:flex;grid-gap:12px}.modal-tab[data-v-885fff84]{cursor:pointer;opacity:.5}.modal-tab-selected[data-v-885fff84],.modal-tab[data-v-885fff84]:hover{opacity:1}.spacer[data-v-885fff84]{opacity:.2}.about-text[data-v-885fff84]{line-height:1.6;margin:20px 0 15px;max-width:375px;opacity:.9}.about-link[data-v-885fff84]{color:var(--instance-border-hover)}.dark-mode .modal[data-v-885fff84]{background:var(--instance-bg)}.dark-mode .save[data-v-885fff84],.dark-mode .save-name-input[data-v-885fff84]{color:#fff}.dark-mode .save:not(.save-selected) .save-action-icon[data-v-885fff84],.dark-mode .save:not(.save-selected) .save-icon[data-v-885fff84]{filter:invert(1)}.dark-mode .save-selected[data-v-885fff84],.dark-mode .save-selected .save-name-input[data-v-885fff84]{color:#000}.dark-mode .save[data-v-885fff84]:hover{background:linear-gradient(180deg,#151515 50%,#000 90%)}.dark-mode .save-selected[data-v-885fff84],.dark-mode .save-selected[data-v-885fff84]:hover{background:linear-gradient(0deg,#bbebef 50%,#e5e5e5 90%)}@keyframes fadeOut-885fff84{0%{opacity:1}to{opacity:0;transform:translate(-50%,-50%) scale(.7)}}@media screen and (max-width:800px){.modal[data-v-885fff84]{max-width:calc(min(370px, 100% - 25px))}.save-items[data-v-885fff84]{display:none}.save[data-v-885fff84]{height:75px;padding-left:17px}.save-action[data-v-885fff84]{font-size:13px}.save-name[data-v-885fff84]{margin-bottom:15px}.save-name[data-v-885fff84],.save-name-input[data-v-885fff84]{font-size:18px}}",""]),r.locals={},e.exports=r},1064:function(e,t,n){"use strict";n(554)},1065:function(e,t,n){var r=n(106)((function(i){return i[1]}));r.push([e.i,".loading-message[data-v-b566836a]{align-items:center;border-radius:5px;color:#000;display:flex;font-size:16px;gap:10px;justify-content:center;left:50%;padding:6px 12px;position:absolute;top:50%;transform:translate(calc(-50% - 150px),-50%);white-space:nowrap;z-index:10}.dark-mode .loading-message[data-v-b566836a]{color:#fff}.dark-mode .spinner-path[data-v-b566836a]{fill:#fff}.spinner-path[data-v-b566836a]{animation:spin-b566836a .75s linear infinite;transform-origin:center}@keyframes spin-b566836a{to{transform:rotate(1turn)}}@media (max-width:800px){.loading-message[data-v-b566836a]{transform:translate(-50%,calc(-50% - 60px))}}",""]),r.locals={},e.exports=r},1066:function(e,t,n){"use strict";n(555)},1067:function(e,t,n){var r=n(106)((function(i){return i[1]}));r.push([e.i,'.container[data-v-6ee28a24]{font-family:"Roboto",sans-serif;height:100%;left:0;position:fixed;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;--text-color:#040404;--background-color:#fff;--border-color:#c8c8c8;--item-bg:#fff;--instance-bg:linear-gradient(0deg,#f7feff,#fff 70%);--instance-bg-hover:linear-gradient(0deg,#d6fcff,#fff 90%);--instance-border:#91a8c1;--instance-border-hover:#91a8c1;--sidebar-bg:#fff;--discoveries-bg-active:linear-gradient(0deg,#e4d9ff 0%,#fff 50%);background:#fff;background:var(--background-color);color:#040404;color:var(--text-color)}.container.dark-mode[data-v-6ee28a24]{--border-color:#d1d1d1;--item-bg:#000;--instance-bg:linear-gradient(180deg,#22252b,#000 80%);--instance-bg-hover:linear-gradient(180deg,#516772,#131313 80%);--instance-border:#dcdcdc;--instance-border-hover:#c7e0ff;--sidebar-bg:#000;--background-color:#000;--discoveries-bg-active:#423a24;--text-color:#fff}.logo[data-v-6ee28a24]{pointer-events:none;position:fixed;right:calc(var(--sidebar-width) + 13px);top:10px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:80px}.dark-mode .instance-discovered-emoji[data-v-6ee28a24],.dark-mode .logo[data-v-6ee28a24]{filter:invert(1)}.pinwheel[data-v-6ee28a24]{animation:pinwheelSpin 2s linear infinite;height:260px;left:0;opacity:0;pointer-events:none;position:fixed;scale:0;top:0;transform-origin:center center;transition:scale .4s ease-in-out,opacity .4s ease-in-out;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:260px;z-index:1}.pinwheel-animation-enter-active[data-v-6ee28a24],.pinwheel-animation-leave-active[data-v-6ee28a24]{opacity:1;scale:1}.pinwheel-animation-enter-from[data-v-6ee28a24],.pinwheel-animation-leave-to[data-v-6ee28a24]{opacity:0;scale:0}@keyframes instanceScaleIn-6ee28a24{0%{scale:.5}to{scale:1}}.site-title[data-v-6ee28a24]{left:13px;position:fixed;top:13px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:115px;z-index:3}.site-title[data-v-6ee28a24]:hover{transform:scale(1.03)}.dark-mode .site-title[data-v-6ee28a24]{filter:invert(1)}.list-enter[data-v-6ee28a24],.list-leave-to[data-v-6ee28a24]{transform:scale(0)}#particles[data-v-6ee28a24]{background:#fff;contain:strict;height:100%;left:0;pointer-events:none;top:0}#particles[data-v-6ee28a24],.app-store[data-v-6ee28a24]{position:fixed;width:100%}.app-store[data-v-6ee28a24]{align-items:center;background:#dbf6ff;border:1px solid #0073ff;border-radius:5px;color:#000;display:none;font-size:14.5px;left:50%;max-width:300px;padding:6px;-webkit-text-decoration:none;text-decoration:none;top:80px;transform:translateX(-50%)}.app-store-icon[data-v-6ee28a24]{border-radius:5px;height:25px;margin-right:8px;width:25px}.menu[data-v-6ee28a24]{background:#fff;border:1px solid var(--border-color);border-radius:5px;bottom:10px;color:#000;cursor:pointer;font-size:16px;left:10px;padding:6px 11px;position:fixed}.menu[data-v-6ee28a24]:hover{background:linear-gradient(0deg,#f6f6f6 50%,#fff 90%);transform:scale(1.025)}.menu-icon[data-v-6ee28a24]{margin-right:1px;position:relative;top:2.5px;width:16px;user-drag:none;-webkit-user-drag:none}.dark-mode .menu[data-v-6ee28a24]{background:#000;color:#fff}.dark-mode .menu[data-v-6ee28a24]:hover{background:var(--instance-bg-hover)}.dark-mode .menu-icon[data-v-6ee28a24]{filter:invert(1)}#instances-top[data-v-6ee28a24]{position:relative;z-index:99}#instances[data-v-6ee28a24],#instances-top[data-v-6ee28a24]{contain:layout style size;transform-origin:top left}#infinite-craft-center-ad[data-v-6ee28a24]{bottom:0;contain:layout style;left:50%;position:fixed;transform:translate(calc(-50% - var(--sidebar-width)/2));width:320px;z-index:10}#infinite-craft-sidebar-ad[data-v-6ee28a24]{contain:layout style;height:600px;left:0;position:fixed;top:50%;transform:translateY(-50%);z-index:10}@keyframes sway-6ee28a24{0%{rotate:-6deg}to{rotate:6deg}}@media screen and (max-width:1250px){#infinite-craft-sidebar-ad[data-v-6ee28a24]{display:none}}@media screen and (max-height:725px){#infinite-craft-sidebar-ad[data-v-6ee28a24]{display:none}}@media screen and (min-width:1150px){.logo[data-v-6ee28a24]{width:86px}.pinwheel[data-v-6ee28a24]{height:260px;width:260px}.empty-sidebar[data-v-6ee28a24]{font-size:16px}}@media screen and (max-width:800px){.logo[data-v-6ee28a24]{left:auto;position:absolute;right:10px;top:10px}.app-store[data-v-6ee28a24]{display:flex}.menu[data-v-6ee28a24]{border:none;bottom:186px;font-size:15px;left:5px;padding:3px 7px}}',""]),r.locals={},e.exports=r},1068:function(e,t,n){"use strict";n(556)},1069:function(e,t,n){var r=n(106)((function(i){return i[1]}));r.push([e.i,'.infinite-craft .instance-pinwheel{transform-style:preserve-3d;--delay:0s}.infinite-craft .instance-img{content-visibility:auto;height:56px;margin-right:10px;-o-object-fit:contain;object-fit:contain;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:56px}.infinite-craft .instance-pinwheel:before{animation:instancePinwheelSpin 3s linear forwards var(--delay);background:url(/infinite-craft/pinwheel.webp);background-size:contain;content:"";height:270px;left:50%;position:absolute;top:50%;transform:translate3d(-50%,-50%,-1px);width:270px}@keyframes instancePinwheelSpin{0%{transform:translate3d(-50%,-50%,-1px) rotate(0deg) scale(0)}15%{transform:translate3d(-50%,-50%,-1px) rotate(54deg) scale(1)}75%{transform:translate3d(-50%,-50%,-1px) rotate(270deg) scale(1)}to{transform:translate3d(-50%,-50%,-1px) rotate(1turn) scale(0)}}.infinite-craft .instance{align-items:center;backface-visibility:hidden;background:var(--instance-bg);border:2px solid var(--instance-border);border-radius:10px;contain:layout style size paint;contain:layout style;cursor:pointer;display:flex;font-size:38px;height:90px;left:0;padding:0 20px;position:absolute;scale:.5;top:0;transform-origin:center center;transition:scale .14s ease-in;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap;will-change:transform;z-index:11}.infinite-craft .instance-discovery:after{bottom:-6px;color:#000;content:"First Discovery";font-size:26px;left:50%;position:absolute;transform:translate(-50%,100%);white-space:nowrap}@keyframes instanceScaleIn{0%{scale:.125}to{scale:.5}}.infinite-craft #instances-top .instance,.infinite-craft .instance-selected{background:var(--instance-bg-hover);border:2px solid var(--instance-border-hover)}.infinite-craft #select-box{background:rgba(85,164,255,.09);border:1px solid rgba(85,164,255,.9);left:0;position:fixed;top:0;z-index:100}.infinite-craft .instance-discovered-text{bottom:-3px;font-size:12px;left:50%;position:absolute;text-align:center;transform:translate(-50%,100%);-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;width:110px}.infinite-craft .instance-discovered-emoji{margin-right:3px;position:relative;top:1px;width:12px}.infinite-craft .instance-emoji{font-size:42px;margin-right:10px}.infinite-craft .instance-emoji,.infinite-craft .instance-text{pointer-events:none}.infinite-craft .instance-hide{display:none!important;pointer-events:none!important}.infinite-craft .instance-disabled{animation:instancePulse .8s ease-in-out .15s infinite alternate-reverse;opacity:.7;pointer-events:none;transition:.15s linear}.infinite-craft .instance-disabled:after{content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.infinite-craft .instance-hover{background:var(--instance-bg-hover);border:2px solid var(--instance-border-hover);scale:.535!important}@media (hover:hover){.infinite-craft .instance:hover{background:var(--instance-bg-hover);border:2px solid var(--instance-border-hover)}}.dark-mode .instance-discovery:after{color:#fff}@keyframes instancePulse{0%{opacity:.2}to{opacity:.7}}',""]),r.locals={},e.exports=r},1504:function(e,t,n){"use strict";n.r(t);var r,o,canvas,c,d,l,f,v=n(11),h=(n(65),n(87),n(207),n(68),n(318),n(51),n(17),n(27),n(69),n(40),n(66),n(363),n(377),n(41),n(47),n(1052),n(1055),n(235),n(31),n(292)),m=(n(46),n(67),n(209),n(164),{props:{element:{type:Object,required:!0},isDeleting:{type:Boolean,required:!0},hiddenMode:{type:Boolean,required:!0}},methods:{hideItem:function(element,e){this.$emit("hideItem",element,e)}}}),x=(n(1056),n(30)),w=Object(x.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"item-wrapper"},[e.hiddenMode?t("span",{staticClass:"item-hidden-toggle",on:{click:function(t){return e.hideItem(e.element,!e.element.hide)}}},[e.element.hide?t("img",{staticClass:"item-hidden-toggle-icon",attrs:{src:"/infinite-craft/plus.svg"}}):t("img",{staticClass:"item-hidden-toggle-icon",attrs:{src:"/infinite-craft/minus.svg"}})]):e._e(),e._v(" "),t("div",e._b({staticClass:"item",class:{"item-discovery":e.element.discovery,"item-hidden":e.element.hide,"item-hidden-mode":e.hiddenMode},attrs:{"data-item":"","data-item-emoji":e.element.emoji,"data-item-text":e.element.text,"data-item-id":e.element.id}},"div",e.element.discovery?{"data-item-discovery":""}:{},!1),[t("span",{staticClass:"item-emoji"},[e._v(e._s(e.element.emoji||"⬜"))]),e._v("\n    "+e._s(e.element.text)+"\n    "),e.isDeleting?t("div",{staticClass:"item-remove",on:{click:function(){return e.hideElement(e.element)}}}):e._e()])])}),[],!1,null,"73c98bfa",null).exports,y=0,k={components:{Item:w},props:{items:{type:Array,required:!0},hasCrafted:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!0}},data:function(){var e=[{name:"time",asc:!1},{name:"name",asc:!1},{name:"emoji",asc:!1},{name:"length",asc:!1},{name:"random",asc:!1}];return{searchQuery:"",showDiscoveredOnly:!1,isDeleting:!1,showControlFade:!1,sorts:e,sortBy:e[0],limit:300,showHidden:!1,sidebarWidth:350,isResizing:!1,resizeTimeout:null,showSortDropdown:!1}},watch:{searchQuery:function(){var e=this;this.limit=300,this.$nextTick((function(){""===e.searchQuery?e.$refs.sidebar.scrollTop=y:e.$refs.sidebar.scrollTop=0}))},sortBy:{handler:function(){this.$refs.sidebar.scrollTop=0},deep:!0},isLoading:function(){this.isLoading&&(this.searchQuery="",this.sortBy=this.sorts[0],this.showDiscoveredOnly=!1,this.showHidden=!1,this.isDeleting=!1)}},computed:{sortedElements:function(){var e=Object(h.a)(this.items),t=this.sortBy.name,n={time:function(a,b){return a.id-b.id},name:function(a,b){return a.text.localeCompare(b.text)},emoji:function(a,b){return a.emoji.localeCompare(b.emoji)},new:function(a,b){return b.id-a.id},length:function(a,b){return a.text.length-b.text.length},random:function(){return Math.random()-.5}};return n[t]&&e.sort(n[t]),this.sortBy.asc&&e.reverse(),e},filteredElements:function(){var e=this.sortedElements;return this.showDiscoveredOnly&&(e=e.filter((function(element){return element.discovery}))),this.showHidden||(e=e.filter((function(element){return!element.hide}))),e},filteredElementsCut:function(){return this.filteredElements.slice(0,this.limit)},mobileItemRows:function(){for(var e=this.filteredElementsCut,t=[[],[],[],[]],i=0;i<e.length;i+=1){for(var n=!1,r=0;r<4;r+=1)t[r].length<4&&!n&&(t[r].push(e[i]),n=!0);n||t[i%4].push(e[i])}return t},searchResults:function(){if(!this.searchQuery)return[];for(var e=this.filteredElements,t=[],n=0,r=this.searchQuery.toLowerCase();t.length<this.limit&&n<e.length;)e[n].text.toLowerCase().indexOf(r)>-1&&t.push(e[n]),n++;return t},briefText:function(){return this.sidebarWidth<400}},mounted:function(){var e=this;new ResizeObserver(this.checkControlsBlur).observe(this.$refs.sidebarInner),this.$nextTick((function(){e.$refs.sidebar.addEventListener("scroll",e.checkControlsBlur),e.setupSpacerListener()})),window.addEventListener("keydown",this.onKeyDown),window.innerWidth>=1150?this.sidebarWidth=350:this.sidebarWidth=305,this.$emit("resize",this.sidebarWidth),new ResizeObserver((function(t){t[0].borderBoxSize[0]&&e.$emit("resize",e.sidebarWidth)})).observe(this.$refs.sidebar)},methods:{changeSort:function(e){this.sortBy=e,this.showSortDropdown=!1},changeSortDirection:function(){this.$set(this.sortBy,"asc",!this.sortBy.asc)},onKeyDown:function(e){e.ctrlKey||("Escape"===e.key?(this.isDeleting=!1,this.searchQuery=""):"INPUT"!==document.activeElement.tagName&&e.key.match(/^[a-zA-Z0-9]$/)&&this.$refs.search.focus())},hideItem:function(e,t){this.$emit("hideItem",e,t)},setupSpacerListener:function(){var e=this,t=this.$refs.spacer;new IntersectionObserver((function(t){t[0].isIntersecting&&(e.limit+=500)})).observe(t)},checkControlsBlur:function(){if(this.$refs.sidebar){""===this.searchQuery&&(y=this.$refs.sidebar.scrollTop);var e=this.$refs.sidebar;this.showControlFade=e.scrollHeight-e.scrollTop-e.clientHeight>=1}},toggleHidden:function(){this.showHidden=!this.showHidden},startResize:function(e){this.isResizing=!0,document.body.style.cursor="ew-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",this.debouncedResize),window.addEventListener("mouseup",this.stopResize),e.preventDefault()},toggleSortDropdown:function(e){this.showSortDropdown=!this.showSortDropdown,this.showSortDropdown?(e.stopPropagation(),window.addEventListener("mousedown",this.hideDropdown)):window.removeEventListener("mousedown",this.hideDropdown)},hideDropdown:function(e){e&&(e.target.closest(".sort-dropdown")||e.target.closest(".sort-name"))||(this.showSortDropdown=!1,window.removeEventListener("mousedown",this.hideDropdown))},debouncedResize:function(e){var t=this;this.isResizing&&(cancelAnimationFrame(this.resizeTimeout),this.resizeTimeout=requestAnimationFrame((function(){t.handleResize(e)})),e.preventDefault())},handleResize:function(e){if(this.isResizing){var t=window.innerWidth-e.clientX,n=Math.min(600,.5*window.innerWidth);this.sidebarWidth=Math.max(305,Math.min(n,t))}},stopResize:function(){this.isResizing=!1,document.body.style.cursor="",document.body.style.userSelect="",this.resizeTimeout&&cancelAnimationFrame(this.resizeTimeout),window.removeEventListener("mousemove",this.debouncedResize),window.removeEventListener("mouseup",this.stopResize)}},beforeDestroy:function(){this.isResizing&&(this.resizeTimeout&&cancelAnimationFrame(this.resizeTimeout),window.removeEventListener("mousemove",this.debouncedResize),window.removeEventListener("mouseup",this.stopResize)),window.removeEventListener("keydown",this.onKeyDown)}},I=(n(1058),Object(x.a)(k,(function(){var e=this,t=e._self._c;return t("div",{ref:"sidebar",style:{width:e.sidebarWidth+"px"},attrs:{id:"sidebar"}},[t("div",{ref:"resizeHandle",staticClass:"resize-handle",on:{mousedown:e.startResize}}),e._v(" "),t("div",{staticClass:"sidebar-overlay"}),e._v(" "),t("div",{ref:"sidebarInner",staticClass:"sidebar-inner"},[(0===e.filteredElementsCut.length||e.searchQuery&&0===e.searchResults.length)&&e.hasCrafted&&!e.isLoading?t("div",{staticClass:"empty-sidebar"},[t("img",{staticClass:"empty-sidebar-icon",attrs:{src:"/infinite-craft/empty.svg"}}),e._v("\n      No items\n    ")]):e._e(),e._v(" "),t("div",{staticClass:"items",class:{"is-delete-mode":e.isDeleting}},[t("client-only",[e.isMobile?t("div",{staticClass:"items-inner"},e._l(4,(function(i){return t("div",{key:i,staticClass:"items-row"},e._l(e.mobileItemRows[i-1],(function(element,i){return t("Item",{key:element.id,attrs:{element:element,isDeleting:e.isDeleting,hiddenMode:e.showHidden},on:{hideItem:e.hideItem}})})),1)})),0):t("div",{directives:[{name:"show",rawName:"v-show",value:0===e.searchQuery.length,expression:"searchQuery.length === 0"}],staticClass:"items-inner"},[e.isLoading?t("div",{staticClass:"fake-items"},e._l(35,(function(i){return t("div",{key:i,staticClass:"fake-item"})})),0):e._e(),e._v(" "),e._l(e.filteredElementsCut,(function(element,i){return t("Item",{key:element.id,attrs:{element:element,isDeleting:e.isDeleting,hiddenMode:e.showHidden},on:{hideItem:e.hideItem}})}))],2),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.searchQuery.length>0,expression:"searchQuery.length > 0"}]},e._l(e.searchResults,(function(element,i){return t("Item",{key:element.id,attrs:{element:element,isDeleting:e.isDeleting,hiddenMode:e.showHidden},on:{hideItem:e.hideItem}})})),1),e._v(" "),e.hasCrafted||0===e.sortedElements.length?e._e():t("div",{staticClass:"instruction"},[t("img",{staticClass:"instruction-icon",attrs:{src:"/infinite-craft/left-arrow.svg"}}),e._v("\n          Drag elements to craft\n        ")])]),e._v(" "),t("div",{ref:"spacer",staticClass:"bottom-spacer"})],1)]),e._v(" "),t("div",{staticClass:"sidebar-controls",class:{"sidebar-controls-fade-show":e.showControlFade}},[t("div",{staticClass:"sidebar-sorting"},[t("div",{staticClass:"sidebar-discoveries sorting-item sorting-selectable",class:{"discoveries-active":e.showDiscoveredOnly},on:{click:function(t){e.showDiscoveredOnly=!e.showDiscoveredOnly}}},[t("img",{staticClass:"sorting-icon",attrs:{src:"/infinite-craft/magic.svg"}}),e._v("\n        Discoveries\n      ")]),e._v(" "),t("div",{staticClass:"sidebar-sort sorting-item"},[t("div",{staticClass:"sort-wrapper"},[e.showSortDropdown?t("div",{staticClass:"sort-dropdown sorting-selectable"},e._l(e.sorts,(function(n){return t("div",{key:n.name,staticClass:"sort-dropdown-option",on:{click:function(t){return e.changeSort(n)}}},[t("img",{staticClass:"sorting-icon",attrs:{src:"/infinite-craft/".concat(n.name,".svg")}}),e._v("\n              Sort by "+e._s(n.name)+"\n            ")])})),0):e._e(),e._v(" "),t("div",{staticClass:"sort-name sort-inner sorting-selectable",on:{click:e.toggleSortDropdown}},[t("img",{staticClass:"sorting-icon",attrs:{src:"/infinite-craft/".concat(e.sortBy.name,".svg")}}),e._v(" "),t("span",{staticClass:"sort-by-text-wrapper",class:{"brief-text":e.briefText}},[t("span",{staticClass:"sort-by-text"},[e._v("Sort by")]),e._v("\n              "+e._s(e.sortBy.name))])]),e._v(" "),t("div",{staticClass:"sort-direction sorting-selectable sort-inner",on:{click:e.changeSortDirection}},[t("img",{staticClass:"sort-direction-icon",class:{"sort-direction-icon-flip":!e.sortBy.asc},attrs:{src:"/infinite-craft/up-arrow.svg"}})])])]),e._v(" "),t("div",{staticClass:"sidebar-sort sorting-item sorting-selectable",class:{"discoveries-active":e.showHidden},on:{click:e.toggleHidden}},[t("img",{staticClass:"sorting-icon trash-icon",class:{"trash-icon-animate":e.showHidden},attrs:{src:"/infinite-craft/trash.svg"}})])]),e._v(" "),t("div",{staticClass:"sidebar-search"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],ref:"search",staticClass:"sidebar-input",attrs:{placeholder:"Search ".concat(e.sortedElements.length>1?"("+(e.items.length||e.filteredElements.length).toLocaleString("en-US")+") ":"","items...")},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),e._v(" "),t("img",{directives:[{name:"show",rawName:"v-show",value:e.searchQuery.length>0,expression:"searchQuery.length > 0"}],staticClass:"sidebar-input-close",attrs:{src:"/infinite-craft/close.svg"},on:{click:function(t){e.searchQuery=""}}})])])])}),[],!1,null,"5c28f8c6",null).exports),C=n(36),S=(n(317),80),M=1,z=!1,_=[0,0],j=0,D=!1,E=!1,L=[],R=null,O=0,A=null;function P(e){return Math.max(-4,Math.min(4,e))}function T(e,t){this.x=e,this.y=t,this.scale=Math.random();var n=function(){return 4*(Math.random()-.5)*2};this.velocity=[n(),n()]}function H(){f=Math.min(2,window.devicePixelRatio||1),canvas.width=window.innerWidth*f,canvas.height=window.innerHeight*f,d=canvas.width,l=canvas.height,D=!0}function B(e,t){var n=(e+_[0])*f,r=(t+_[1])*f;return[n=(n%d+d)%d,r=(r%l+l)%l]}function F(e,t,n,r,o,c){if(n<30*f&&n>0){var d=5*(1-n/(30*f))/n,l=r*d,v=o*d;e.velocity[0]=P(e.velocity[0]-l*c),e.velocity[1]=P(e.velocity[1]-v*c),t.velocity[0]=P(t.velocity[0]+l*c),t.velocity[1]=P(t.velocity[1]+v*c)}}function N(e,t,n,r,o,d){if(o<d*f){var l=.2*(1-o/(d*f))*(arguments.length>6&&void 0!==arguments[6]?arguments[6]:1);c.beginPath(),c.moveTo(e,t),c.lineTo(n,r),c.strokeStyle=z?"rgba(255, 255, 255, ".concat(l,")"):"rgba(0, 0, 0, ".concat(l,")"),c.lineWidth=1*f,c.stroke()}}function $(p,e,t){var n=Math.min(.7,Math.max(1-p.scale,.15)),r=Math.max(3.5*p.scale,2)*Math.min(1.5,Math.max(.7,M));c.beginPath(),c.arc(e,t,r*f,0,2*Math.PI),c.fillStyle=z?"rgba(255, 255, 255, ".concat(.6*n,")"):"rgba(0, 0, 0, ".concat(.6*n,")"),c.fill()}function W(time){if(!o.aborted){if(time-j<40&&!D)return requestAnimationFrame(W);D=!1;var e=[],t=(time-j)/1e3;R?(O=Math.min(1,O+t),A={x:(R.bounds.left+R.bounds.width/2)*f,y:(R.bounds.top+R.bounds.height/2)*f}):O=Math.max(0,O-t);for(var i=0;i<L.length;i++){var p=L[i];p.x+=p.velocity[0]*t,p.y+=p.velocity[1]*t;var n=B(p.x,p.y),r=Object(C.a)(n,2),v=r[0],h=r[1];v>=0&&v<=d&&h>=0&&h<=l&&e.push(p)}c.fillStyle=z?"black":"white",c.fillRect(0,0,d,l);for(var m=0;m<e.length;m++){for(var x=e[m],w=B(x.x,x.y),y=Object(C.a)(w,2),k=y[0],I=y[1],S=m+1;S<e.length;S++){var M=e[S],_=B(M.x,M.y),E=Object(C.a)(_,2),P=E[0],T=E[1],H=P-k,Y=T-I,X=Math.sqrt(H*H+Y*Y);F(x,M,X,H,Y,t),N(k,I,P,T,X,75)}if(O>0&&A){var U=Math.sqrt((A.x-k)*(A.x-k)+(A.y-I)*(A.y-I));N(k,I,A.x,A.y,U,120,O)}}for(var Q=0,J=e;Q<J.length;Q++){var K=J[Q],Z=B(K.x,K.y),G=Object(C.a)(Z,2);$(K,G[0],G[1])}j=time,requestAnimationFrame(W)}}var Y={init:function(e){E=window.innerWidth<=800,z=e,S=E?35:75,r=new AbortController,o=r.signal,canvas=document.getElementById("particles"),c=canvas.getContext("2d"),window.addEventListener("resize",H,{signal:o}),H(),function(){for(var i=0;i<S;i++){var e=2500*Math.random(),t=2500*Math.random();L.push(new T(e,t))}}(),W(performance.now())},panCanvas:function(e,t){_[0]+=e,_[1]+=t,D=!0},zoomCanvas:function(e){M=e},setDarkMode:function(e){z=e},render:W,setSelectedInstance:function(e){R&&!e&&{x:(R.bounds.left+R.bounds.width/2)*f,y:(R.bounds.top+R.bounds.height/2)*f},R=e,e&&null},destroy:function(){L.length=0,r.abort()}},X=n(332);n(42),n(74),n(75),n(72),n(53),n(343),n(148),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(38);function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return Q(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Q(e,a):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function Q(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}var J,K,Z,G,V,ee,te,ne,ae,ie,re,oe=null,se=1,ce=!1,de={x:0,y:0},le=1,ue=[],fe=0,pe={},ve={},he={},me=!1,ge=!1,be={},xe=[],we=[],ye=[],ke=[],Ie=null,Ce=1,Se=!1,Me=300,ze=0,_e=new Set,je=0,De=0,Ee=0,Le=0,Re=!1;function Oe(e){at(),se=e.length+1;var t=1/0,n=1/0;e.forEach((function(e){e.id>=fe&&(fe=e.id+1),e.x<t&&(t=e.x),e.y<n&&(n=e.y);var r=nt(e.x,e.y),o=r.x,c=r.y;Qe({text:e.text,emoji:e.emoji,x:o,y:c,topLayer:!1,id:e.id,itemId:e.itemId,save:!1,discovery:e.discovery})})),e.length>0&&(de.x=-t*le+100,de.y=-n*le+100),Ae(),requestAnimationFrame((function(){Je()}))}function Ae(){var e="translate(".concat(Math.round(de.x),"px, ").concat(Math.round(de.y),"px) scale(").concat(le,")");ne.style.transform=e,ae.style.transform=e}function Pe(){pe.updateCamera({x:de.x,y:de.y,zoom:le})}function Te(e){if(!Ue(e.clientX,e.clientY)){if(e.preventDefault(),0===e.deltaX||ce||0!==e.buttons||(Se=!0),!e.ctrlKey&&Se)return de.x+=-e.deltaX,de.y+=-e.deltaY,clearTimeout(Ie),Ie=setTimeout((function(){Ae(),Je(),Pe()}),75),Ae(),void pe.panCanvas(-e.deltaX,-e.deltaY);var t=e.clientX,n=e.clientY,r=le,o=2e-4*e.wheelDeltaY,c=(le=Math.max(.1,Math.min(5,le+o)))/r;de.x=t-c*(t-de.x),de.y=n-c*(n-de.y),pe.zoomCanvas(le),Ae(),Je(),Pe()}}function He(e){if(ce)de.x+=e.movementX,de.y+=e.movementY,pe.panCanvas(e.movementX,e.movementY),Ae();else if(ge){var t=Math.abs(e.clientX-be.x),n=Math.abs(e.clientY-be.y);!function(e,t,n){ie.style.left=e.x+"px",ie.style.top=e.y+"px",ie.style.width=t+"px",ie.style.height=n+"px";var r=[],o=e.x,c=e.y,d=e.x+t,l=e.y+n;ue.forEach((function(e){var t=Ze(e),n=t.left+(t.right-t.left)/2,f=t.top+(t.bottom-t.top)/2;!e.disabled&&n>o&&n<d&&f>c&&f<l&&r.push(e)})),we.forEach((function(e){r.includes(e)||e.element.classList.remove("instance-selected")})),r.forEach((function(e){we.includes(e)||e.element.classList.add("instance-selected")})),we=r}({x:Math.min(e.clientX,be.x),y:Math.min(e.clientY,be.y)},t,n)}else if(xe.length>0){me=!1,ve={};var r=Math.abs(e.movementX)+Math.abs(e.movementY);he.dist?he.dist+=r:he.dist=r,he.dist>10&&(he={}),function(e,t){var n=xe[0];if(!be.hasMoved){Object(h.a)(xe).sort((function(a,b){return a.element.style.zIndex-b.element.style.zIndex})).forEach((function(e){e.element.style.zIndex=se++})),be.hasMoved=!0}var r=tt(e-n.dragOffset.x,t-n.dragOffset.y),o=r.x-n.x,c=r.y-n.y;xe.forEach((function(e){ot(e,o,c)}))}(e.clientX,e.clientY),1===xe.length&&function(e){var t=null,n=Ze(e);ue.forEach((function(r){if(r!==e){var o=Ze(r);if(!r.disabled&&n.right>o.left&&n.left<o.right&&n.bottom>o.top&&n.top<o.bottom)return void(t=r)}})),t?(oe&&oe!==t&&Ve(),oe=t,t.element.classList.add("instance-hover")):Ve()}(xe[0])}}function Be(e){var t=e.target;if(1!==e.button){if(2!==e.button&&(t.hasAttribute("data-container")||t.hasAttribute("data-item")||t.hasAttribute("data-instance"))){if(!t.hasAttribute("data-item")&&!t.hasAttribute("data-instance"))return ft(),oe=null,Ue(e.clientX,e.clientY)||re||(ge=!0,be.x=e.clientX,be.y=e.clientY),void(re&&(ce=!0));if(t.hasAttribute("data-item")){var n=Qe({text:t.getAttribute("data-item-text"),emoji:t.getAttribute("data-item-emoji"),itemId:parseInt(t.getAttribute("data-item-id")),x:e.clientX,y:e.clientY,topLayer:!0,animate:!0,discovery:t.hasAttribute("data-item-discovery")});xe=[n],pe.setSelectedInstance(n),xt(),ke.push({type:"duplicate",instances:[n]}),he={instance:n,time:performance.now()}}else if(t.hasAttribute("data-instance")){var r=ue.find((function(i){return i.element===t}));e.shiftKey?function(e){var t=[];t=we.includes(e)?We(we,0):We([e],0);xe=t}(r):!we.includes(r)||we.includes(r)&&1===we.length?(ft(),xe=[r],pe.setSelectedInstance(r),ae.appendChild(r.element),bt(r),r.element.style.zIndex=se++):xe=we,xt(.09),ke.push({type:"move",start:{x:xe[0].x,y:xe[0].y},instances:xe}),ve&&ve.instance===r&&performance.now()-ve.time<400?me=!0:ve={instance:r,time:performance.now()}}var o=xe[0];Ke(o);var c=o.bounds,d=e.clientX-c.left-c.width/2,l=e.clientY-c.top-c.height/2;o.dragOffset={x:d,y:l},it(o,e.clientX,e.clientY)}}else ce=!0}function Fe(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(v.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==t.button){e.next=2;break}return e.abrupt("return");case 2:if(me&&xe.length>0&&$e(xe),!ce||1!==t.button&&!re){e.next=8;break}return ce=!1,Je(),Pe(),e.abrupt("return");case 8:if(!ge){e.next=12;break}return ge=!1,ut(),e.abrupt("return");case 12:if(!(xe.length>0)){e.next=26;break}if(!Ue(t.clientX,t.clientY)||1!==xe.length){e.next=23;break}if(!(he&&performance.now()-he.time<300)){e.next=18;break}Ge(he.instance),e.next=21;break;case 18:return et(xe),xe=[],e.abrupt("return");case 21:e.next=24;break;case 23:pe.updateInstances(xe);case 24:xe[0].removed||(document.getElementById("instances").appendChild(xe[0].element),bt(xe[0])),pe.setSelectedInstance(null);case 26:oe&&(pt(oe,xe[0]),oe=null),xe=[];case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){ve={},me=!1,We(e,8)}function We(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];return e.forEach((function(e){var n=nt(e.x+t,e.y+t),o=n.x,c=n.y;r.push(Qe({itemId:e.itemId,text:e.text,emoji:e.emoji,discovery:e.discovery,x:o,y:c}))})),n&&ke.push({type:"duplicate",instances:r}),lt(r),r}function Ye(e){if(e.target.hasAttribute("data-instance")){e.preventDefault();var t=ue.find((function(i){return i.element===e.target}));if(xe.includes(t))et(xe);else if(we.includes(t))et(we);else{et([ue.find((function(i){return i.element===e.target}))]),ft()}xe=[],we=[],ge=!1}else Ue(e.clientX,e.clientY)||e.preventDefault()}function Xe(e){"INPUT"!==document.activeElement.tagName&&("Delete"!==e.key&&"Backspace"!==e.key||(xe.length>0?(et(xe),Ve()):we.length>0&&(et(we),ft())),e.ctrlKey&&"c"===e.key&&(ye=we),e.ctrlKey&&"v"===e.key&&We(ye,10),e.ctrlKey&&"z"===e.key&&function(){var e=ke.pop();if(!e)return;if("duplicate"===e.type)et(e.instances,!1),ft();else if("remove"===e.type)r=e.instances,(o=ue).push.apply(o,Object(h.a)(r)),r.forEach((function(e){ne.appendChild(e.element),e.element.style.scale=.5,e.removed=!1,Ze(e)})),xt(),lt(r);else if("move"===e.type){var t=e.start.x-e.instances[0].x,n=e.start.y-e.instances[0].y;e.instances.forEach((function(e){ot(e,t,n)}))}var r,o;pe.updateInstances(e.instances)}(),e.key.startsWith("Arrow")&&(e.preventDefault(),_e.add(e.key),function(){var e=0,t=0;_e.has("ArrowUp")&&(t+=10);_e.has("ArrowDown")&&(t-=10);_e.has("ArrowLeft")&&(e+=10);_e.has("ArrowRight")&&(e-=10);0===e&&0===t||(de.x+=e,de.y+=t,Ae(),Pe(),Je(),pe.panCanvas(e,t))}()))}function qe(e){e.key.startsWith("Arrow")&&_e.delete(e.key)}function Ue(e,t){return re?t>window.innerHeight-ze:e>window.innerWidth-Me}function Qe(e){var t=e.id,text=e.text,n=e.itemId,r=e.emoji,o=void 0===r?"⬜":r,c=e.x,d=e.y,l=e.topLayer,f=void 0!==l&&l,v=e.save,h=void 0===v||v,m=e.animate,animate=void 0!==m&&m,x=e.discovery,w=void 0!==x&&x,y=document.createElement("div");y.classList.add("instance"),y.style.zIndex=se++,y.setAttribute("data-instance",!0);var k=document.createElement("span");k.classList.add("instance-emoji"),k.innerText=o;var I=document.createElement("span");I.classList.add("instance-text"),I.innerText=text,y.appendChild(k),y.appendChild(I),w&&y.classList.add("instance-discovery");var C={id:null!=t?t:fe++,itemId:n,text:text,emoji:o,element:y,x:Math.round(c),y:Math.round(d),dragOffset:{x:0,y:0},discovery:w};return f?ae.appendChild(y):ne.appendChild(y),animate&&(y.style.scale=0,y.offsetHeight,y.style.scale=.5,setTimeout((function(){Ke(C,!0)}),250)),it(C,c,d),ue.push(C),h&&pe.updateInstances([C]),C}function Je(){ue.forEach(Ke)}function Ke(e){!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&e.bounds&&e.bounds.width&&e.bounds.height||(e.bounds=e.element.getBoundingClientRect(),e.baseWidth=.5*e.element.offsetWidth,e.baseHeight=.5*e.element.offsetHeight);var t=nt(e.x-e.baseWidth/2,e.y-e.baseHeight/2);e.bounds={left:t.x,top:t.y,right:t.x+e.baseWidth*le,bottom:t.y+e.baseHeight*le,width:e.baseWidth*le,height:e.baseHeight*le}}function Ze(e){return e.bounds||Ke(e),e.bounds}function Ge(e){var t,n=Math.random()*Math.PI*2;t=re?Math.random()*window.innerWidth/3:Math.random()*(window.innerWidth-Me)/4;var r,o,c=Math.cos(n)*t,d=Math.sin(n)*t;re?(r=window.innerWidth/2+c,o=(window.innerHeight-ze)/2+d):(r=(window.innerWidth-Me)/2+c,o=(window.innerHeight-150)/2+d),it(e,r,o),pe.updateInstances([e])}function Ve(){oe&&(oe.element.classList.remove("instance-hover"),oe=null)}function et(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&ke.push({type:"remove",instances:e}),e.forEach((function(e){e.element.addEventListener("transitionend",(function(){e.element.remove()})),e.element.offsetHeight,e.element.style.scale=0,e.removed=!0})),ue=ue.filter((function(e){return!e.removed})),we=we.filter((function(t){return!e.includes(t)})),xe=xe.filter((function(t){return!e.includes(t)})),t||K.play(),Ve(),pe.setSelectedInstance(null),pe.removeInstances(e)}function tt(e,t){return{x:(e-de.x)/le,y:(t-de.y)/le}}function nt(e,t){return{x:e*le+de.x,y:t*le+de.y}}function at(){ue.forEach((function(e){e.element.remove(),e.removed=!0})),ue=[],ke=[],be={},xe=[],we=[],ve={},ye=[],fe=0,le=re?.9:1,oe=null}function it(e,t,n){var r=tt(t-e.dragOffset.x,n-e.dragOffset.y);r.x=Math.round(r.x),r.y=Math.round(r.y),e.element.style.translate="calc(".concat(r.x,"px - 50%) calc(").concat(r.y,"px - 50%)"),e.x=r.x,e.y=r.y,Ke(e)}function ot(e,t,n){var r=Math.round(e.x+t),o=Math.round(e.y+n);e.element.style.translate="calc(".concat(r,"px - 50%) calc(").concat(o,"px - 50%)"),e.x=r,e.y=o,Ke(e)}function st(e){e.disabled=!0,e.element.classList.add("instance-disabled"),e.element.classList.remove("instance-hover")}function ct(e){e.disabled=!1,e.element.classList.remove("instance-disabled")}function lt(e){we.forEach((function(e){e.element.classList.remove("instance-selected")})),e.forEach((function(e){e.element.classList.add("instance-selected")})),we=e}function ut(){ie.style.width=0,ie.style.height=0,ie.style.left="-99px",ie.style.top="-99px"}function ft(){we.forEach((function(e){e.element.classList.remove("instance-selected")})),pe.updateInstances(we),ge=!1,we=[],be={}}function pt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(v.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,d,l,f,v,h,m,x,w,y,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke=[],st(t),st(n),e.prev=3,e.next=6,pe.craft(n,t);case 6:if((r=e.sent)&&r.instance){e.next=10;break}return t.removed||n.removed||(ct(t),ct(n),Z.play()),e.abrupt("return");case 10:o=r.instance,c=r.isNew,o&&(d=Ze(t),l=Ze(n),f=Math.min(d.left,l.left),v=Math.min(d.top,l.top),h=Math.max(d.right,l.right),m=Math.max(d.bottom,l.bottom),x=f+(h-f)/2,w=v+(m-v)/2,y=Qe({itemId:o.id,text:o.text,emoji:o.emoji,x:x,y:w,discovery:o.discovery,animate:!0}),c&&gt(y),o.discovery?G.play():c?(k=[.9,1],V.rate(k[Math.floor(Math.random()*k.length)]),V.play()):xt(),et([t,n],!1,!0)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function ht(){et(ue)}function mt(e){e&&(de.x=e.x,de.y=e.y,le=e.zoom,Ae())}function gt(e){e.element.classList.add("instance-pinwheel"),e.pinwheelStart=performance.now(),setTimeout((function(){e.element.classList.remove("instance-pinwheel"),delete e.pinwheelStart}),3050)}function bt(e){if(e.pinwheelStart){var t=Math.round(performance.now()-e.pinwheelStart);e.element.style.setProperty("--delay","-".concat(t,"ms"))}}function xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.3;(Ce+=.1)>1.3&&(Ce=.9),J.rate(Ce),J.volume(e),J.play()}function wt(e){var t=e.touches[0]||e.changedTouches[0];return{clientX:t.clientX,clientY:t.clientY,target:t.target,movementX:0,movementY:0}}function yt(e){if(e.length<2)return 0;var t=e[0].clientX-e[1].clientX,n=e[0].clientY-e[1].clientY;return Math.sqrt(t*t+n*n)}function kt(e){var t=e.target,n=wt(e);if(je=n.clientX,De=n.clientY,t.hasAttribute("data-item"))Re=!0;else{if((t.hasAttribute("data-instance")||t.hasAttribute("data-container"))&&e.preventDefault(),2===e.touches.length)return Ee=yt(e.touches),Le=Ee,void(ce=!1);Be(n)}}function It(e){var t=wt(e);if(Re){var n=t.clientX-je,r=t.clientY-De;return 1.3*Math.abs(r)>Math.abs(n)&&(Be(t),e.preventDefault()),void(Re=!1)}if(Re=!1,2===e.touches.length){var o=yt(e.touches),c=(o-Le)/Le*le*.5,d=(e.touches[0].clientX+e.touches[1].clientX)/2,l=(e.touches[0].clientY+e.touches[1].clientY)/2,f=le,v=(le=Math.max(.1,Math.min(5,le+c)))/f;return de.x=d-v*(d-de.x),de.y=l-v*(l-de.y),Le=o,pe.zoomCanvas(le),Ae(),Je(),void Pe()}t.movementX=t.clientX-je,t.movementY=t.clientY-De,je=t.clientX,De=t.clientY,He(t)}function Ct(e){Re=!1,Ee=0,Le=0;var t=wt(e);t.button=0,Fe(t)}var St={init:function(e,t){re=window.innerWidth<=800,pe=e,ne=document.getElementById("instances"),ae=document.getElementById("instances-top"),ie=document.getElementById("select-box"),Oe(t),J=new X.Howl({src:["/infinite-craft/instance.mp3"],volume:.5}),K=new X.Howl({src:["/infinite-craft/delete.mp3"],volume:.5}),Z=new X.Howl({src:["/infinite-craft/error.mp3"],volume:.4}),G=new X.Howl({src:["/infinite-craft/discovery.mp3"],volume:.1,rate:1.1}),V=new X.Howl({src:["/infinite-craft/reward.mp3"],volume:.4}),ee=new AbortController,te=ee.signal,window.addEventListener("mousemove",He,{signal:te}),window.addEventListener("mousedown",Be,{signal:te}),window.addEventListener("mouseup",Fe,{signal:te}),window.addEventListener("contextmenu",Ye,{signal:te}),window.addEventListener("wheel",Te,{passive:!1,signal:te}),window.addEventListener("keydown",Xe,{signal:te}),window.addEventListener("keyup",qe,{signal:te}),window.addEventListener("scroll",(function(e){return e.preventDefault()}),{signal:te}),window.addEventListener("touchstart",kt,{passive:!1,signal:te}),window.addEventListener("touchmove",It,{passive:!1,signal:te}),window.addEventListener("touchend",Ct,{passive:!1,signal:te}),window.addEventListener("touchcancel",Ct,{passive:!1,signal:te});var n=document.getElementById("sidebar");Me=n.offsetWidth,ze=n.offsetHeight,new ResizeObserver((function(e){var t,n=U(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.contentRect,o=r.width,c=r.height;Me=o+15,ze=c}}catch(e){n.e(e)}finally{n.f()}})).observe(n),window.IC=window.IC||{},window.IC.getInstances=function(){return ue},window.IC.getZoom=function(){return le},window.IC.getCanvasPos=function(){return{x:de.x,y:de.y}},window.IC.createInstance=Qe,window.IC.removeInstances=et,window.IC.clearInstances=ht,window.IC.setCamera=mt,window.IC.loadInstances=Oe,window.IC.updateInstances=pe.updateInstances,window.IC.duplicateInstances=We,window.IC.setZoom=pe.zoomCanvas,window.IC.panCanvas=pe.panCanvas,window.IC.worldToScreen=nt,window.IC.screenToWorld=tt,window.IC.craft=pt},clearInstances:ht,loadInstances:Oe,resetCanvas:at,setCamera:mt,destroy:function(){ee.abort()}},Mt={props:{isDeleting:{type:Boolean,required:!0},isDarkMode:{type:Boolean,required:!0},isMuted:{type:Boolean,required:!0}},methods:{showDialog:function(){this.$refs.dialog.showModal()},closeDialog:function(){var dialog=this.$refs.dialog;dialog.classList.add("closing"),dialog.addEventListener("animationend",(function(){dialog.close(),dialog.classList.remove("closing")}),{once:!0})},confirmSweep:function(){this.closeDialog(),this.$emit("clearInstances")},onDialogClick:function(e){e.target===e.currentTarget&&this.closeDialog()}}},zt=(n(1060),Object(x.a)(Mt,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"side-controls"},[t("img",{staticClass:"dark-mode-icon tool-icon",attrs:{src:"/infinite-craft/dark-mode".concat(e.isDarkMode?"-on":"",".svg")},on:{click:function(t){return e.$emit("toggleDarkMode")}}}),e._v(" "),t("img",{staticClass:"clear tool-icon",attrs:{src:"/infinite-craft/clear.svg"},on:{click:e.showDialog}}),e._v(" "),t("img",{staticClass:"sound tool-icon",attrs:{src:e.isMuted?"/infinite-craft/mute.svg":"/infinite-craft/sound.svg"},on:{click:function(t){return e.$emit("toggleSound")}}})]),e._v(" "),t("dialog",{ref:"dialog",on:{mousedown:e.onDialogClick}},[t("p",{staticClass:"question"},[e._v("Clear all items on the canvas?")]),e._v(" "),t("div",{staticClass:"actions"},[t("button",{staticClass:"action-btn action-danger",on:{click:e.confirmSweep}},[e._v("\n        Yes\n      ")]),e._v(" "),t("button",{staticClass:"action-btn",on:{click:e.closeDialog}},[e._v("No")])])])])}),[],!1,null,"1748f434",null).exports),_t=(n(142),{props:{saves:{type:Array,required:!0},currSave:{type:Number,required:!0},isMobile:{type:Boolean,required:!0}},watch:{currTab:function(){"Saves"===this.currTab&&this.resizeAllInputs()},reset:function(){this.resizeAllInputs()}},data:function(){return{reset:-1,nameChange:-1,closing:!1,currTab:"Saves",mobileTabs:["Saves","About"],tabs:["Saves","Controls","About"],controls:[{input:"Left-click",text:"Select item"},{input:"Right-click",text:"Delete item"},{input:"Double-click, Shift+drag",text:"Duplicate item"},{input:"Scroll wheel",text:"Zoom"},{input:"Middle-click, Arrow keys",text:"Pan canvas"},{input:"Ctrl+Z",text:"Undo"}]}},mounted:function(){this.resizeAllInputs()},computed:{sortedSaves:function(){return this.saves.sort((function(a,b){return a.id-b.id}))},tabList:function(){return this.isMobile?this.mobileTabs:this.tabs}},methods:{formatDate:function(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},downloadSave:function(e,t){this.$emit("downloadSave",e,t)},switchSave:function(e){this.$emit("switchSave",e),this.close()},resetSave:function(e){this.$emit("resetSave",e),this.reset=-1,this.resizeAllInputs(),this.close()},onEnter:function(e){this.onNameChange(e),document.getElementById("save-name-id-"+e).blur()},close:function(){var e=this;this.closing||(this.closing=!0,setTimeout((function(){e.$emit("close"),e.closing=!1}),120))},uploadSave:function(e,t){var n=this,r=t.target.files[0],o=new FileReader;o.onload=function(t){var data=t.target.result;"application/json"===r.type?n.$emit("uploadHelper",e,data):n.$emit("uploadSave",e,data),n.close()},o.readAsArrayBuffer(r)},notReset:function(e){this.reset=-1},editName:function(e){var t=this;this.nameChange=e,this.$nextTick((function(){var input=document.getElementById("save-name-id-"+e);input.focus(),t.resizeInput({target:input})}))},onNameChange:function(e){-1!==this.nameChange&&(this.nameChange=-1,document.getElementById("save-name-id-"+e).blur(),this.$emit("changeName",e,this.saves.find((function(i){return i.id===e})).name))},resizeAllInputs:function(){var e=this;this.$nextTick((function(){e.saves.forEach((function(t){var input=document.getElementById("save-name-id-"+t.id);input&&e.resizeInput({target:input})}))}))},resizeInput:function(e){var t=e.target.parentNode.querySelector(".save-name-sizer");t.textContent=e.target.value||e.target.placeholder||"",e.target.style.width="".concat(t.offsetWidth+3,"px")}}}),menu=(n(1062),Object(x.a)(_t,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-wrapper",class:{closing:e.closing}},[t("div",{staticClass:"modal-bg",on:{click:e.close}}),e._v(" "),t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-header"},[t("div",{staticClass:"modal-tabs"},e._l(e.tabList,(function(n,i){return t("div",{key:n,staticClass:"modal-tab-wrapper"},[t("div",{staticClass:"modal-tab",class:{"modal-tab-selected":n===e.currTab},on:{click:function(t){e.currTab=n}}},[t("div",{staticClass:"modal-tab-text"},[e._v(e._s(n))])]),e._v(" "),i<e.tabs.length-1?t("div",{staticClass:"spacer"},[e._v("/")]):e._e()])})),0)]),e._v(" "),"Saves"===e.currTab?t("div",{staticClass:"saves"},e._l(e.sortedSaves,(function(n){return t("div",{key:n.id,staticClass:"save",class:{"save-selected":n.id===e.currSave},on:{click:function(t){return e.switchSave(n.id)}}},[e.reset!==n.id?t("div",[t("div",{staticClass:"save-header"},[t("div",{staticClass:"save-name"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.name,expression:"save.name"}],staticClass:"save-name-input",class:{"save-name-input-disabled":e.nameChange!==n.id},attrs:{id:"".concat("save-name-id-"+n.id),type:"text"},domProps:{value:n.name},on:{blur:function(t){return e.onNameChange(n.id)},input:[function(t){t.target.composing||e.$set(n,"name",t.target.value)},function(t){return e.resizeInput(t)}],click:function(e){e.stopPropagation()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter(n.id)}}}),e._v(" "),t("span",{ref:"sizer",refInFor:!0,staticClass:"save-name-sizer"}),e._v(" "),e.nameChange!==n.id?t("img",{staticClass:"save-icon",attrs:{src:"/infinite-craft/pencil.svg"},on:{click:function(t){return t.stopPropagation(),e.editName(n.id)}}}):t("img",{staticClass:"save-icon",attrs:{src:"/infinite-craft/check.svg"},on:{mousedown:function(e){e.preventDefault()},click:function(t){return t.stopPropagation(),e.onNameChange(n.id)}}})]),e._v(" "),t("div",{staticClass:"save-items"},[e._v("\n              "+e._s(e.formatDate(n.updated||n.created))+"\n            ")])]),e._v(" "),t("div",{staticClass:"save-actions"},[t("div",{staticClass:"save-action",on:{click:function(t){return t.stopPropagation(),e.downloadSave(n.id,n.name)}}},[t("img",{staticClass:"save-action-icon",attrs:{src:"/infinite-craft/download.svg"}}),e._v("\n              Download\n            ")]),e._v(" "),t("label",{staticClass:"save-action",on:{click:function(e){e.stopPropagation()}}},[t("img",{staticClass:"save-action-icon",attrs:{src:"/infinite-craft/upload.svg"}}),e._v("\n              Upload\n              "),t("input",{staticClass:"download-input",attrs:{type:"file",accept:".ic, application/json"},on:{change:function(t){return e.uploadSave(n.id,t)}}})]),e._v(" "),t("div",{staticClass:"save-action",on:{click:function(t){t.stopPropagation(),e.reset=n.id}}},[t("img",{staticClass:"save-action-icon",attrs:{src:"/infinite-craft/refresh.svg"}}),e._v("Reset\n            ")])])]):t("div",{staticClass:"delete-wrapper"},[t("div",[t("div",{staticClass:"delete-text"},[e._v("\n              Are you sure you want to reset this save?\n            ")]),e._v(" "),t("div",{staticClass:"delete-actions"},[t("button",{staticClass:"delete-action",on:{click:function(t){return t.stopPropagation(),e.resetSave(n.id)}}},[e._v("\n                Yes\n              ")]),e._v(" "),t("button",{staticClass:"delete-action",on:{click:function(t){return t.stopPropagation(),e.notReset(n.id)}}},[e._v("\n                No\n              ")])])])])])})),0):"Controls"===e.currTab?t("div",{staticClass:"controls"},e._l(e.controls,(function(n){return t("div",{key:n.input,staticClass:"control"},[t("div",{staticClass:"control-input"},[e._v(e._s(n.input))]),e._v(" "),t("div",{staticClass:"control-text"},[e._v(e._s(n.text))])])})),0):"About"===e.currTab?t("div",{staticClass:"about"},[e._m(0),e._v(" "),e._m(1)]):e._e()])])}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"about-text"},[e._v("\n        Created by Neal Agarwal. Check out more games on\n        "),t("a",{staticClass:"about-link",attrs:{target:"_blank",href:"/"}},[e._v("Neal.fun")]),e._v(" if you're\n        bored :)\n      ")])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"about-text"},[e._v("\n        Join the\n        "),t("a",{staticClass:"about-link",attrs:{target:"_blank",href:"https://discord.gg/VyPyXnspjh"}},[e._v("Discord server")]),e._v("\n        to share discoveries, recipes, and report bugs.\n      ")])}],!1,null,"885fff84",null).exports),jt={props:{loadingMessage:{type:String,required:!0}}},Dt=(n(1064),Object(x.a)(jt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"loading-message"},[t("svg",{staticClass:"spinner",attrs:{width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z",opacity:".25"}}),e._v(" "),t("path",{staticClass:"spinner-path",attrs:{d:"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z"}})]),e._v("\n  "+e._s(e.loadingMessage)+"\n")])}),[],!1,null,"b566836a",null).exports),Et=n(50),Lt=(n(49),n(89),n(90),n(383),n(384),n(385),n(473),n(414),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),["discovery","hide","recipes"]);function Rt(){return(Rt=Object(v.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.save,r=t.instances,o=t.items,c={name:n.name,version:n.version,created:n.created,updated:n.updated,instances:r.map((function(e){return{itemId:e.itemId,x:e.x,y:e.y}})),items:o.map((function(e){var t={id:e.id,text:e.text,emoji:e.emoji};return Lt.forEach((function(n){e[n]&&(t[n]=e[n])})),t}))},e.next=4,Ot(c);case 4:return d=e.sent,e.abrupt("return",d);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e){return At.apply(this,arguments)}function At(){return(At=Object(v.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),r=new TextEncoder,o=r.encode(n),c=new Response(o).body.pipeThrough(new CompressionStream("gzip")),d=new Response(c),e.next=7,d.arrayBuffer();case 7:return l=e.sent,e.abrupt("return",new Uint8Array(l));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(v.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Response(t).body.pipeThrough(new DecompressionStream("gzip")),r=new Response(n),e.next=4,r.arrayBuffer();case 4:return o=e.sent,c=new TextDecoder,d=c.decode(o),e.abrupt("return",JSON.parse(d));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(){return(Ht=Object(v.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt(n);case 2:if(r=e.sent,o={id:t,name:r.name,version:r.version,created:r.created,updated:r.updated},c=r.instances.map((function(e,i){return{id:e.id||i,saveId:t,itemId:e.itemId,x:e.x,y:e.y}})),d=r.items.map((function(e){var n={id:e.id,saveId:t,text:e.text,emoji:e.emoji};return Lt.forEach((function(t){e[t]&&(n[t]=e[t])})),n}))){e.next=8;break}throw new Error("No items found in save");case 8:return e.abrupt("return",{save:o,instances:c,items:d});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(){return(Bt=Object(v.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.parse((new TextDecoder).decode(n)),o={id:t,name:"Helper Save",version:"1.0",created:Date.now(),updated:Date.now()},c=[],d={},r.elements.forEach((function(e,i){var n={id:i,saveId:t,text:e.text,emoji:e.emoji};e.discovered&&(n.discovery=!0),e.hidden&&(n.hide=!0),d[e.text]=n})),r.elements.forEach((function(e){try{var t=[],n=r.recipes[e.text];n&&(n.forEach((function(e){var n=d[e[0].text],r=d[e[1].text];n&&r&&t.push([n.id,r.id])})),t.length>0&&(d[e.text].recipes=t))}catch(e){console.log(e)}})),l=Object.values(d)){e.next=9;break}throw new Error("No items found in save");case 9:return e.abrupt("return",{save:o,items:l,instances:c});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ft,Nt={createSaveFile:function(e){return Rt.apply(this,arguments)},uploadSaveFile:function(e,t){return Ht.apply(this,arguments)},uploadHelperFile:function(e,t){return Bt.apply(this,arguments)}};function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Object(Et.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yt,Xt=0,qt=[{text:"Water",emoji:"💧",id:0},{text:"Fire",emoji:"🔥",id:1},{text:"Wind",emoji:"🌬️",id:2},{text:"Earth",emoji:"🌍",id:3}];function Ut(){return Ut=Object(v.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt=t,e.abrupt("return",new Promise((function(e,t){var n=indexedDB.open("infinite-craft",1);n.onerror=function(){t(new Error("Failed to open database"))},n.onsuccess=function(){var t=Object(v.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ft=n.target.result,t.t0=e,t.next=4,Gt();case 4:t.t1=t.sent,(0,t.t0)(t.t1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.onupgradeneeded=function(e){(Ft=e.target.result).createObjectStore("saves",{keyPath:"id"});Ft.createObjectStore("items",{keyPath:["saveId","id"]}).createIndex("saveId","saveId",{unique:!1}),Ft.createObjectStore("instances",{keyPath:["saveId","id"]}).createIndex("saveId","saveId",{unique:!1});var t=en();t.length>0?(Yt.setLoadingMessage("Porting ".concat(t.length.toLocaleString("en-US")," items...")),tn(0,e.target.transaction,t)):tn(0,e.target.transaction),tn(1,e.target.transaction),tn(2,e.target.transaction)}})));case 2:case"end":return e.stop()}}),e)}))),Ut.apply(this,arguments)}function Qt(e){return new Promise((function(t,n){var r=Ft.transaction("items","readonly").objectStore("items").index("saveId").getAll(e);r.onerror=function(){n(new Error("Failed to get items"))},r.onsuccess=function(){Xt=r.result.length,t(r.result)}}))}function Jt(e,t){return new Promise((function(n,r){Object(v.a)(regeneratorRuntime.mark((function o(){var c,d,l,f,v;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:c={},t.forEach((function(e){c[e.id]=e})),d=Ft.transaction("instances","readonly"),l=d.objectStore("instances"),f=l.index("saveId"),(v=f.getAll(e)).onerror=function(){r(new Error("Failed to get instances"))},v.onsuccess=function(){var e=[];v.result.forEach((function(t){void 0!==!t.itemId&&null!==t.itemId&&c[t.itemId]&&e.push({id:t.id,itemId:t.itemId,x:t.x,y:t.y,text:c[t.itemId].text,emoji:c[t.itemId].emoji,discovery:c[t.itemId].discovery})})),n(e)};case 8:case"end":return o.stop()}}),o)})))()}))}function Kt(e){return new Promise((function(t,n){var r=Ft.transaction("instances","readwrite").objectStore("instances").index("saveId").openCursor(e);r.onsuccess=function(e){var cursor=e.target.result;cursor?(cursor.delete(),cursor.continue()):t()},r.onerror=function(){n(new Error("Failed to clear instances"))}}))}function Zt(e){return new Promise((function(t,n){var r=Ft.transaction("items","readwrite").objectStore("items").index("saveId").openCursor(e),o=0;r.onsuccess=function(e){var cursor=e.target.result;cursor?(cursor.delete(),++o%100==0&&Yt.setLoadingMessage("Deleting ".concat(o.toLocaleString("en-US")," items...")),cursor.continue()):t(o)}}))}function Gt(){return new Promise((function(e,t){var n=Ft.transaction("saves","readonly").objectStore("saves").getAll();n.onerror=function(){t(new Error("Failed to get saves"))},n.onsuccess=function(){e(n.result)}}))}function Vt(e){return new Promise((function(t,n){var r=Ft.transaction("saves","readonly").objectStore("saves").get(e);r.onerror=function(){n(new Error("Failed to get save"))},r.onsuccess=function(){t(r.result)}}))}function en(){var e=localStorage.getItem("infinite-craft-data");return e?JSON.parse(e).elements.map((function(e,t){var n={text:e.text,emoji:e.emoji};return e.discovered&&(n.discovery=e.discovered),e.hidden&&(n.hide=e.hidden),n})):[]}function tn(e,t,n){return new Promise((function(r,o){t||(t=Ft.transaction(["saves","items"],"readwrite"));var c=t.objectStore("saves"),d=t.objectStore("items");c.put({id:e,name:"Save ".concat(e+1),version:"1.0",created:Date.now(),updated:0}),n?n.forEach((function(t,n){d.put(Wt({id:n,saveId:e},t))})):qt.forEach((function(t,n){d.put(Wt({id:n,saveId:e},t))})),t.oncomplete=function(){r()},t.onerror=function(e){console.error(e),o(new Error("Failed to create save"))}}))}function nn(e){return an.apply(this,arguments)}function an(){return(an=Object(v.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt.setLoadingMessage("Resetting save..."),e.next=3,Kt(t);case 3:return e.next=5,Zt(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(){return(rn=Object(v.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(t);case 2:return e.next=4,tn(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(){return(on=Object(v.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yt.setLoadingMessage("Loading save..."),e.next=3,Qt(t);case 3:return n=e.sent,e.next=6,Jt(t,n);case 6:return r=e.sent,e.abrupt("return",{items:n,instances:r});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(){return(sn=Object(v.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt(t);case 2:return n=e.sent,e.next=5,Qt(t);case 5:return r=e.sent,e.next=8,Jt(t,r);case 8:return o=e.sent,e.next=11,Nt.createSaveFile({save:n,instances:o,items:r});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(){return cn=Object(v.a)(regeneratorRuntime.mark((function e(t,data){var n,r,o,c,d,l,f,v,h,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(m.length>2&&void 0!==m[2]&&m[2])){e.next=10;break}return e.next=4,Nt.uploadHelperFile(t,data);case 4:c=e.sent,n=c.save,r=c.instances,o=c.items,e.next=16;break;case 10:return e.next=12,Nt.uploadSaveFile(t,data);case 12:d=e.sent,n=d.save,r=d.instances,o=d.items;case 16:return e.next=18,nn(t);case 18:return Yt.setLoadingMessage("Uploading ".concat(o.length.toLocaleString("en-US")," items...")),l=Ft.transaction(["saves","instances","items"],"readwrite"),f=l.objectStore("saves"),v=l.objectStore("instances"),h=l.objectStore("items"),f.put(n),r.forEach((function(e){v.put(e)})),o.forEach((function(e,i){h.put(e)})),e.abrupt("return",new Promise((function(e,t){l.oncomplete=function(){e()},l.onerror=function(){t(new Error("Failed to upload save"))}})));case 27:case"end":return e.stop()}}),e)}))),cn.apply(this,arguments)}var dn,ln,un,fn,pn,vn,hn,mn,gn,bn={init:function(e){return Ut.apply(this,arguments)},addItem:function(e,t){return new Promise((function(n,r){var o=Ft.transaction("items","readwrite").objectStore("items").add(Wt({id:Xt++,saveId:e},t));o.onerror=function(){r(new Error("Failed to add item"))},o.onsuccess=function(){n()}}))},hideItem:function(e,t,n){return new Promise((function(r,o){var c=Ft.transaction("items","readwrite").objectStore("items"),d=c.get([e,t]);d.onsuccess=function(){var e=d.result;n?e.hide=!0:delete e.hide,c.put(e),r()}}))},addRecipe:function(e,t,n){return new Promise((function(r,o){var c=Ft.transaction("items","readwrite").objectStore("items"),d=c.get([e,t]);d.onsuccess=function(){var e=d.result;e.recipes=e.recipes||[],e.recipes.push(n),c.put(e),r()},d.onerror=function(){o(new Error("Failed to add recipe"))}}))},updateInstances:function(e,t){return new Promise((function(n,r){var o=Ft.transaction("instances","readwrite"),c=o.objectStore("instances");!function(e){new Promise((function(t,n){var r=Ft.transaction("saves","readwrite").objectStore("saves"),o=r.get(e);o.onsuccess=function(){var e=o.result;e.updated=Date.now(),r.put(e)}}))}(e),t.forEach((function(t){if(void 0!==t.itemId&&void 0!==t.id){var n={id:t.id,itemId:t.itemId,saveId:e,x:t.x,y:t.y};c.put(n)}})),o.oncomplete=function(){n()},o.onerror=function(){r(new Error("Failed to update instances"))}}))},removeInstances:function(e,t){return new Promise((function(n,r){var o=Ft.transaction("instances","readwrite"),c=o.objectStore("instances");t.forEach((function(t){c.delete([e,t.id]).onerror=function(){r(new Error("Failed to remove instance"))}})),o.oncomplete=function(){n()},o.onerror=function(){r(new Error("Failed to remove instances"))}}))},clearInstances:Kt,getSaves:Gt,loadSave:function(e){return on.apply(this,arguments)},resetSave:function(e){return rn.apply(this,arguments)},createSaveFile:function(e){return sn.apply(this,arguments)},uploadSaveFile:function(e,t){return cn.apply(this,arguments)},changeSaveName:function(e,t){return new Promise((function(n,r){var o=Ft.transaction("saves","readwrite").objectStore("saves"),c=o.get(e);c.onsuccess=function(){var e=c.result;e.name=t,o.put(e),n()},c.onerror=function(){r(new Error("Failed to change save name"))}}))},getSaveCount:function(e){return new Promise((function(t,n){var r=Ft.transaction("items","readonly").objectStore("items").index("saveId").count(e);r.onerror=function(){n(new Error("Failed to get item count"))},r.onsuccess=function(){t(r.result)}}))}},xn={components:{Item:w,Menu:menu,Tools:zt,Sidebar:I,Loading:Dt},head:function(){var e={bodyAttrs:{class:"infinite-craft-body"}};return this.isDarkMode&&(e.meta=[{hid:"color-scheme",name:"color-scheme",content:"dark"},{hid:"theme-color",name:"theme-color",content:"#000000"}]),e.script=[{src:"/infinite-craft/adLoad.js",async:!0,defer:!0}],e},data:function(){return{items:[],saves:[],currSave:0,hasCrafted:!1,sidebarWidth:300,isActive:!0,isDeleting:!1,isMuted:!1,isDarkMode:!1,isMobile:!1,isIOS:!1,isAndroid:!1,showMenu:!1,isLoading:!0,loadingMessage:""}},computed:{currSaveData:function(){var e=this;return this.saves.find((function(t){return t.id===e.currSave}))}},created:function(){this.checkIfMobile()},mounted:(gn=Object(v.a)(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getSettings(),Y.init(this.isDarkMode),e.next=5,bn.init({setLoadingMessage:this.setLoadingMessage});case 5:return this.saves=e.sent,t=this.saves.sort((function(a,b){return b.updated-a.updated}))[0],this.currSave=t.id,e.next=10,bn.loadSave(this.currSave);case 10:if(n=e.sent,r=n.items,o=n.instances,r.length>4&&(this.hasCrafted=!0),this.isLoading=!1,this.loadingMessage="",this.items=r,St.init({craft:this.craft,updateCamera:this.updateCamera,updateInstances:this.updateInstances,setSelectedInstance:this.setSelectedInstance,removeInstances:this.removeInstances,panCanvas:this.panCanvas,zoomCanvas:this.zoomCanvas},o,this.currSave),navigator.userAgent.includes("iPhone")||"iPhone"===navigator.platform?this.isIOS=!0:navigator.userAgent.includes("Android")&&(this.isAndroid=!0),window.top===window.self){e.next=22;break}return document.body.innerHTML="You can play infinite craft on <a target='_top' href='https://neal.fun/infinite-craft/'>neal.fun</a>.",e.abrupt("return");case 22:this.checkIfMobile(),this.addAPI();case 24:case"end":return e.stop()}}),e,this)}))),function(){return gn.apply(this,arguments)}),beforeDestroy:function(){X.Howler.mute(!1),X.Howler.unload(),this.isActive=!1,St.destroy(),Y.destroy();try{window.ramp&&window.ramp.destroyUnits("all")}catch(e){}},methods:{checkIfMobile:function(){this.isMobile=window.innerWidth<800},switchSave:(mn=Object(v.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currSave=t,this.items=[],this.isLoading=!0,St.resetCanvas(),e.next=6,bn.loadSave(t);case 6:n=e.sent,r=n.items,o=n.instances,this.isLoading=!1,this.loadingMessage="",this.items=r,St.loadInstances(o,t),St.setCamera(this.currSaveData.camera);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return mn.apply(this,arguments)}),panCanvas:function(e,t){Y.panCanvas(e,t)},zoomCanvas:function(e){Y.zoomCanvas(e)},setSelectedInstance:function(e){Y.setSelectedInstance(e)},setLoading:function(){this.isLoading=!0,this.items=[],St.resetCanvas()},resetSave:(hn=Object(v.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(),e.next=3,bn.resetSave(t);case 3:this.switchSave(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return hn.apply(this,arguments)}),uploadSave:(vn=Object(v.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setLoading(),e.next=4,bn.uploadSaveFile(t,n);case 4:e.sent,this.switchSave(t),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to upload save",e.t0),this.isLoading=!1,this.switchSave(this.currSave);case 13:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e,t){return vn.apply(this,arguments)}),uploadHelper:(pn=Object(v.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setLoading(),e.next=4,bn.uploadSaveFile(t,n,!0);case 4:e.sent,this.switchSave(t),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to upload save",e.t0),this.isLoading=!1,this.switchSave(this.currSave);case 13:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e,t){return pn.apply(this,arguments)}),changeSaveName:(fn=Object(v.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn.changeSaveName(t,n);case 2:case"end":return e.stop()}}),e)}))),function(e,t){return fn.apply(this,arguments)}),downloadSave:(un=Object(v.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,d,l,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn.createSaveFile(t);case 2:r=e.sent,o=n.replaceAll(" ","-"),(c=new Date).toDateString(),d={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},l=c.toLocaleTimeString("en-US",d).replace(":","-"),(a=document.createElement("a")).href=URL.createObjectURL(new Blob([r],{type:"application/gzip"})),a.download="".concat(o," (").concat(l,").ic"),a.click(),setTimeout((function(){return URL.revokeObjectURL(a.href)}),200);case 13:case"end":return e.stop()}}),e)}))),function(e,t){return un.apply(this,arguments)}),clearInstances:function(){St.clearInstances()},toggleDarkMode:function(){this.isDarkMode=!this.isDarkMode,Y.setDarkMode(this.isDarkMode),this.saveSettings()},goToAppStore:function(){this.isIOS?location.href="https://apps.apple.com/us/app/infinite-craft-by-neal/id6499235533":location.href="https://play.google.com/store/apps/details?id=fun.neal.infinite.craft"},hideItem:function(e,t){t?this.$set(e,"hide",!0):this.$delete(e,"hide"),bn.hideItem(this.currSave,e.id,t)},craft:(ln=Object(v.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.hasCrafted=!0,r=this.currSave,e.next=4,this.craftApi(t.text,n.text);case 4:if(o=e.sent,r===this.currSave){e.next=7;break}return e.abrupt("return",null);case 7:if(o){e.next=9;break}return e.abrupt("return",null);case 9:if(!(c=this.items.find((function(e){return e.text.toLowerCase()===o.text.toLowerCase()})))){e.next=17;break}return c.recipes=c.recipes||[],c.recipes.some((function(e){return e[0]===t.itemId&&e[1]===n.itemId||e[0]===n.itemId&&e[1]===t.itemId}))||(c.recipes.push([t.itemId,n.itemId]),bn.addRecipe(this.currSave,c.id,[t.itemId,n.itemId])),e.abrupt("return",{instance:c,isNew:!1});case 17:return o.id=this.items.length,o.recipes=o.recipes||[],o.recipes.push([t.itemId,n.itemId]),this.items.push(o),bn.addItem(this.currSave,o),this.currSaveData.numItems+=1,e.abrupt("return",{instance:o,isNew:!0});case 24:case"end":return e.stop()}}),e,this)}))),function(e,t){return ln.apply(this,arguments)}),craftApi:(dn=Object(v.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,d,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new AbortController,this.$setTimeout((function(){return r.abort()}),12e3),o=[t,n].sort((function(a,b){return a.localeCompare(b)})),c="https://neal.fun/api/infinite-craft/pair?first=".concat(encodeURIComponent(o[0]),"&second=").concat(encodeURIComponent(o[1])),e.next=7,fetch(c,{signal:r.signal});case 7:return d=e.sent,e.next=10,d.json();case 10:if((l=e.sent).result=l.result.trim(),""!==l.result&&"Nothing"!==l.result){e.next=14;break}return e.abrupt("return",null);case 14:return f={text:l.result,emoji:l.emoji},l.isNew&&(f.discovery=!0),e.abrupt("return",f);case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,this,[[0,19]])}))),function(e,t){return dn.apply(this,arguments)}),updateInstances:function(e){bn.updateInstances(this.currSave,e),this.currSaveData.updated=Date.now()},updateCamera:function(e){this.currSaveData.camera=e},removeInstances:function(e){bn.removeInstances(this.currSave,e)},setLoadingMessage:function(e){this.loadingMessage=e},toggleSound:function(){this.isMuted=!this.isMuted,this.isMuted?X.Howler.mute(!0):X.Howler.mute(!1),this.saveSettings()},getSettings:function(){var e=localStorage.getItem("infinite-craft-settings");if(e){var t=JSON.parse(e);this.isDarkMode=t.isDarkMode,this.isMuted=t.isMuted,X.Howler.mute(this.isMuted)}},saveSettings:function(){localStorage.setItem("infinite-craft-settings",JSON.stringify({isDarkMode:this.isDarkMode,isMuted:this.isMuted}))},resizeSidebar:function(e){this.sidebarWidth=e},addAPI:function(){var e=this;window.IC=window.IC||{},window.IC.getItems=function(){return e.items},window.IC.switchSave=this.switchSave,window.IC.hideItem=this.hideItem,window.IC.resetSave=this.resetSave,window.IC.toggleSound=this.toggleSound,window.IC.toggleDarkMode=this.toggleDarkMode}}},wn=xn,yn=(n(1066),n(1068),Object(x.a)(wn,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container infinite-craft",class:{"dark-mode":e.isDarkMode},style:{"--sidebar-width":e.sidebarWidth+"px"},attrs:{"data-container":""}},[t("nuxt-link",{attrs:{to:"/"}},[t("img",{staticClass:"site-title",attrs:{src:"/general/logo.svg"}})]),e._v(" "),e.isLoading&&e.loadingMessage?t("Loading",{attrs:{loadingMessage:e.loadingMessage}}):e._e(),e._v(" "),t("Sidebar",{attrs:{items:e.items,hasCrafted:e.hasCrafted,isMobile:e.isMobile,isLoading:e.isLoading},on:{hideItem:e.hideItem,resize:e.resizeSidebar}}),e._v(" "),e.showMenu?t("Menu",{attrs:{saves:e.saves,currSave:e.currSave,isMobile:e.isMobile},on:{switchSave:e.switchSave,resetSave:e.resetSave,downloadSave:e.downloadSave,uploadSave:e.uploadSave,uploadHelper:e.uploadHelper,close:function(t){e.showMenu=!1},changeName:e.changeSaveName}}):e._e(),e._v(" "),t("Tools",{attrs:{isDeleting:e.isDeleting,isDarkMode:e.isDarkMode,isMuted:e.isMuted},on:{clearInstances:e.clearInstances,toggleDarkMode:e.toggleDarkMode,toggleSound:e.toggleSound}}),e._v(" "),e.isIOS||e.isAndroid?t("div",{staticClass:"app-store",on:{click:e.goToAppStore}},[t("img",{staticClass:"app-store-icon",attrs:{src:"/infinite-craft/app-logo.png"}}),e._v("\n    Get Infinite Craft on the "+e._s(e.isIOS?"App":"Play")+" Store! →\n  ")]):e._e(),e._v(" "),t("canvas",{ref:"particles",attrs:{id:"particles"}}),e._v(" "),t("div",{attrs:{id:"select-box"}}),e._v(" "),t("div",{attrs:{id:"instances-top"}}),e._v(" "),t("div",{attrs:{id:"instances"}}),e._v(" "),t("div",{attrs:{id:"infinite-craft-center-ad"}}),e._v(" "),t("div",{attrs:{id:"infinite-craft-sidebar-ad"}}),e._v(" "),t("img",{staticClass:"logo",attrs:{src:"/infinite-craft/logo.svg"}}),e._v(" "),t("div",{staticClass:"menu",attrs:{"data-ui":""},on:{click:function(t){e.showMenu=!0}}},[t("img",{staticClass:"menu-icon",attrs:{src:"/infinite-craft/menu.svg"}}),e._v("\n    Menu\n  ")])],1)}),[],!1,null,"6ee28a24",null));t.default=yn.exports},550:function(e,t,n){var content=n(1057);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(107).default)("a0d124e0",content,!0,{sourceMap:!1})},551:function(e,t,n){var content=n(1059);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(107).default)("64a142b2",content,!0,{sourceMap:!1})},552:function(e,t,n){var content=n(1061);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(107).default)("1e603ba0",content,!0,{sourceMap:!1})},553:function(e,t,n){var content=n(1063);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(107).default)("7ac8fdb4",content,!0,{sourceMap:!1})},554:function(e,t,n){var content=n(1065);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(107).default)("f9b9aadc",content,!0,{sourceMap:!1})},555:function(e,t,n){var content=n(1067);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(107).default)("80e67320",content,!0,{sourceMap:!1})},556:function(e,t,n){var content=n(1069);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(107).default)("9e3b518c",content,!0,{sourceMap:!1})}}]);